"use strict";(self.webpackChunkplan_her=self.webpackChunkplan_her||[]).push([[2634],{32634:function(e,t,n){n.r(t);var i=n(42982),a=n(15861),r=n(70885),l=n(4942),d=n(87757),o=n.n(d),s=n(53767),u=n(58406),c=n(23786),f=n(72455),p=n(60729),m=n(72791),h=n(16030),x=n(87781),v=n(56889),g=n(23197),w=n(77724),b=n(26067),j=n(42836),Z=n(80184),N=new j.Z,k=(0,f.Z)((function(e){return{aboutContainer:(0,l.Z)({paddingTop:"8em",width:"90%",textAlign:"center",margin:"auto",paddingBottom:"10em"},e.breakpoints.down("md"),{width:"95%"}),sortContainer:{display:"flex",gap:"10px",background:"white",padding:"10px",borderRadius:"8px"},sortLabel:{fontSize:"14px",color:"#696974",paddingTop:"10px",paddingRight:"10px"}}}));t.default=function(e){var t=k(),n=(0,m.useState)(!0),l=(0,r.Z)(n,2),d=l[0],f=l[1],j=(0,m.useState)([]),C=(0,r.Z)(j,2),S=C[0],T=C[1],W=(0,m.useState)([]),y=(0,r.Z)(W,2),I=y[0],A=y[1],E=(0,m.useState)("de"),R=(0,r.Z)(E,2),_=R[0],z=R[1],H=(0,h.I0)(),O=(0,x.DE)({setTitle:b.T,getSiteClaim:w.c4,updateSiteClaim:w.SN},H),P=function(){var e=(0,a.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),N.createToken(),e.next=4,O.getSiteClaim(N.getToken());case 4:t=e.sent,z("de"),t&&t.length?(T((function(){return t})),A((function(){return t}))):(T((function(){return[]})),A((function(){return[]}))),f(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,m.useEffect)((function(){return O.setTitle({title:e.title}),P(),function(){return N.cancelTheApi()}}),[]);var B=function(){var e=(0,a.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,O.updateSiteClaim(t,{status:n});case 3:return e.next=5,P();case 5:f(!1);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),G=[{field:"name",headerName:"Name",flex:1,minWidth:120},{field:"email",headerName:"Email",flex:1,minWidth:120},{headerName:"Alternative Email",minWidth:120,flex:1,field:"altEmail"},{flex:1,headerName:"Job Title",minWidth:120,field:"jobTitle"},{flex:1,headerName:"How You Heard",field:"howYouHeard",minWidth:120},{flex:1,headerName:"Site Name",minWidth:130,field:"Site Name",valueGetter:function(e){var t=e.row,n="-";return t.siteId&&t.siteId.name&&(n=t.siteId.name),n}},{flex:1,headerName:"Organization",minWidth:120,field:"Organization",valueGetter:function(e){var t=e.row,n="-";return t.organisationId&&t.organisationId.name&&(n=t.organisationId.name),n}},{field:"action",headerName:"Action",sortable:!1,filterable:!1,minWidth:200,flex:1,renderCell:function(e){var t=e.row;return"pending"===t.status?(0,Z.jsxs)("div",{style:{display:"flex",gap:"10px",maxWidth:190},children:[(0,Z.jsx)(v.Z,{name:"Approve",varient:"contained",onclick:function(){return B(t._id,"approved")}}),(0,Z.jsx)(v.Z,{name:"Reject",varient:"contained",styled:{background:"red"},onclick:function(){return B(t._id,"cancelled")}})]}):t.status}}];return(0,Z.jsxs)("div",{className:t.aboutContainer,children:[(0,Z.jsx)(s.Z,{direction:"row",justifyContent:"space-between",style:{marginBottom:"20px"},children:(0,Z.jsxs)("div",{className:t.sortContainer,children:[(0,Z.jsx)("div",{className:t.sortLabel,children:"View:"}),(0,Z.jsxs)(u.Z,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",size:"small",variant:"standard",value:_,onChange:function(e){return t=e.target.value,T("de"!==t?function(){return I.filter((function(e){return e.status===t}))}:function(){return I}),void z(t);var t},children:[(0,Z.jsx)(c.Z,{value:"de",children:(0,Z.jsx)("em",{children:"All"})}),(0,Z.jsx)(c.Z,{value:"pending",children:"Pending"}),(0,Z.jsx)(c.Z,{value:"approved",children:"Approved"}),(0,Z.jsx)(c.Z,{value:"cancelled",children:"Rejected"})]})]})}),(0,Z.jsx)("div",{style:{height:550,overflow:"auto",width:"100%"},children:(0,Z.jsx)(p._,{getRowId:function(e){return e._id},rows:S||[],disableExtendRowFullWidth:!1,columns:G,disableSelectionOnClick:!0,loading:d,rowHeight:100,rowsPerPageOptions:(0,i.Z)(g.Z.pageSlot)})})]})}}}]);
//# sourceMappingURL=2634.a5d1ca7f.chunk.js.map