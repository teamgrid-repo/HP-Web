{"version":3,"file":"static/js/2634.a5d1ca7f.chunk.js","mappings":"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","sources":["pages/Admin/ClaimMgt/ClaimMgt.js"],"sourcesContent":["import { MenuItem, Select, Stack } from \"@mui/material\";\r\nimport { makeStyles } from \"@mui/styles\";\r\nimport { DataGrid } from \"@mui/x-data-grid\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport CustomButton from \"../../../components/UI/CustomButton\";\r\nimport config from \"../../../config\";\r\nimport {\r\n  getSiteClaim,\r\n  updateSiteClaim,\r\n} from \"../../../redux/actions/Admin/AdminActions\";\r\nimport { setTitle } from \"../../../redux/actions/theme/themeActions\";\r\nimport CancelToken from \"../../../utils/cancelClass\";\r\nconst ctc = new CancelToken();\r\n\r\nconst useStyle = makeStyles((theme) => ({\r\n  aboutContainer: {\r\n    paddingTop: \"8em\",\r\n    width: \"90%\",\r\n    textAlign: \"center\",\r\n    margin: \"auto\",\r\n    paddingBottom: \"10em\",\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      width: \"95%\",\r\n    },\r\n  },\r\n\r\n  sortContainer: {\r\n    display: \"flex\",\r\n    gap: \"10px\",\r\n    background: \"white\",\r\n    padding: \"10px\",\r\n    borderRadius: \"8px\",\r\n  },\r\n  sortLabel: {\r\n    fontSize: \"14px\",\r\n    color: \"#696974\",\r\n    paddingTop: \"10px\",\r\n    paddingRight: \"10px\",\r\n  },\r\n}));\r\nconst ClaimMgt = (props) => {\r\n  const classes = useStyle();\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [userData, setUserData] = useState([]);\r\n  const [oldData, setOldData] = useState([]);\r\n  const [order, setOrder] = useState(\"de\");\r\n\r\n  const dispatch = useDispatch();\r\n  const actions = bindActionCreators(\r\n    { setTitle, getSiteClaim, updateSiteClaim },\r\n    dispatch\r\n  );\r\n\r\n  const getData = async () => {\r\n    setLoading(true);\r\n    ctc.createToken();\r\n    const res = await actions.getSiteClaim(ctc.getToken());\r\n    setOrder(\"de\");\r\n    if (res && res.length) {\r\n      setUserData(() => res);\r\n      setOldData(() => res);\r\n    } else {\r\n      setUserData(() => []);\r\n      setOldData(() => []);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    actions.setTitle({ title: props.title });\r\n    getData();\r\n    return () => ctc.cancelTheApi();\r\n  }, []);\r\n\r\n  const handleClaimStatus = async (id, status) => {\r\n    setLoading(true);\r\n    await actions.updateSiteClaim(id, { status: status });\r\n    await getData();\r\n    setLoading(false);\r\n  };\r\n  const handleOrder = (o) => {\r\n    if (o !== \"de\") {\r\n      setUserData(() => oldData.filter((a) => a.status === o));\r\n    } else {\r\n      setUserData(() => oldData);\r\n    }\r\n    setOrder(o);\r\n  };\r\n  const columns = [\r\n    { field: \"name\", headerName: \"Name\", flex: 1, minWidth: 120 },\r\n    {\r\n      field: \"email\",\r\n      headerName: \"Email\",\r\n      flex: 1,\r\n      minWidth: 120,\r\n    },\r\n    {\r\n      headerName: \"Alternative Email\",\r\n      minWidth: 120,\r\n      flex: 1,\r\n      field: \"altEmail\",\r\n    },\r\n    {\r\n      flex: 1,\r\n      headerName: \"Job Title\",\r\n      minWidth: 120,\r\n      field: \"jobTitle\",\r\n    },\r\n    {\r\n      flex: 1,\r\n      headerName: \"How You Heard\",\r\n      field: \"howYouHeard\",\r\n      minWidth: 120,\r\n    },\r\n    {\r\n      flex: 1,\r\n      headerName: \"Site Name\",\r\n      minWidth: 130,\r\n      field: \"Site Name\",\r\n      valueGetter: ({ row }) => {\r\n        let result = \"-\";\r\n        if (row.siteId && row.siteId.name) {\r\n          result = row.siteId.name;\r\n        }\r\n        return result;\r\n      },\r\n    },\r\n    {\r\n      flex: 1,\r\n      headerName: \"Organization\",\r\n      minWidth: 120,\r\n      field: \"Organization\",\r\n      valueGetter: ({ row }) => {\r\n        let result = \"-\";\r\n        if (row.organisationId && row.organisationId.name) {\r\n          result = row.organisationId.name;\r\n        }\r\n        return result;\r\n      },\r\n    },\r\n    {\r\n      field: \"action\",\r\n      headerName: \"Action\",\r\n      sortable: false,\r\n      filterable: false,\r\n      minWidth: 200,\r\n      flex: 1,\r\n      renderCell: ({ row }) => {\r\n        return row.status === \"pending\" ? (\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              gap: \"10px\",\r\n              maxWidth: 190,\r\n            }}\r\n          >\r\n            <CustomButton\r\n              name={\"Approve\"}\r\n              varient={\"contained\"}\r\n              onclick={() => handleClaimStatus(row._id, \"approved\")}\r\n            />\r\n            <CustomButton\r\n              name={\"Reject\"}\r\n              varient={\"contained\"}\r\n              styled={{ background: \"red\" }}\r\n              onclick={() => handleClaimStatus(row._id, \"cancelled\")}\r\n            />\r\n          </div>\r\n        ) : (\r\n          row.status\r\n        );\r\n      },\r\n    },\r\n  ];\r\n  return (\r\n    <div className={classes.aboutContainer}>\r\n      <Stack\r\n        direction=\"row\"\r\n        justifyContent=\"space-between\"\r\n        style={{ marginBottom: \"20px\" }}\r\n      >\r\n        <div className={classes.sortContainer}>\r\n          <div className={classes.sortLabel}>View:</div>\r\n          <Select\r\n            labelId=\"demo-simple-select-helper-label\"\r\n            id=\"demo-simple-select-helper\"\r\n            size=\"small\"\r\n            variant=\"standard\"\r\n            value={order}\r\n            onChange={(e) => handleOrder(e.target.value)}\r\n          >\r\n            <MenuItem value=\"de\">\r\n              <em>All</em>\r\n            </MenuItem>\r\n            <MenuItem value={\"pending\"}>Pending</MenuItem>\r\n            <MenuItem value={\"approved\"}>Approved</MenuItem>\r\n            <MenuItem value={\"cancelled\"}>Rejected</MenuItem>\r\n          </Select>\r\n        </div>\r\n      </Stack>\r\n      <div style={{ height: 550, overflow: \"auto\", width: \"100%\" }}>\r\n        <DataGrid\r\n          getRowId={(row) => row._id}\r\n          rows={userData || []}\r\n          disableExtendRowFullWidth={false}\r\n          columns={columns}\r\n          disableSelectionOnClick\r\n          loading={loading}\r\n          rowHeight={100}\r\n          rowsPerPageOptions={[...config.pageSlot]}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ClaimMgt;\r\n"],"names":["ctc","CancelToken","useStyle","makeStyles","theme","aboutContainer","paddingTop","width","textAlign","margin","paddingBottom","breakpoints","down","sortContainer","display","gap","background","padding","borderRadius","sortLabel","fontSize","color","paddingRight","props","classes","useState","loading","setLoading","userData","setUserData","oldData","setOldData","order","setOrder","dispatch","useDispatch","actions","bindActionCreators","setTitle","getSiteClaim","updateSiteClaim","getData","createToken","getToken","res","length","useEffect","title","cancelTheApi","handleClaimStatus","id","status","columns","field","headerName","flex","minWidth","valueGetter","row","result","siteId","name","organisationId","sortable","filterable","renderCell","style","maxWidth","varient","onclick","_id","styled","className","direction","justifyContent","marginBottom","labelId","size","variant","value","onChange","e","o","target","filter","a","height","overflow","getRowId","rows","disableExtendRowFullWidth","disableSelectionOnClick","rowHeight","rowsPerPageOptions","config"],"sourceRoot":""}