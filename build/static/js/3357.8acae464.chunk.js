"use strict";(self.webpackChunkplan_her=self.webpackChunkplan_her||[]).push([[3357],{98874:function(e,n,t){var r=t(1413),i=t(36280),a=t(48561),o=t(80184),s={control:function(e){return(0,r.Z)((0,r.Z)({},e),{},{minHeight:56,zindex:99999})},menu:function(e){return(0,r.Z)((0,r.Z)({},e),{},{zIndex:9999,position:""})}};n.Z=function(e){var n=e.label,t=e.onChange,r=e.value,l=e.onBlur,d=e.validator,c=e.options,u=e.required,f=void 0!==u&&u,h=e.disabled,x=void 0!==h&&h,m=e.isMulti,g=void 0!==m&&m,p=e.oldData,v=void 0!==p&&p;return(0,o.jsxs)(i.Z,{required:f,label:n,oldData:v,children:[(0,o.jsx)(a.ZP,{isMulti:g,name:n,options:c,isDisabled:x,onBlur:l,placeholder:n,onChange:function(e){return t(e)},value:r,styles:s}),d]})}},87268:function(e,n,t){var r=t(5289),i=t(65661),a=t(94721),o=t(39157),s=t(97123),l=t(56889),d=t(80184);n.Z=function(e){return(0,d.jsxs)(r.Z,{open:e.open,onClose:e.handleClose,fullWidth:!0,maxWidth:"xs",style:{textAlign:"center",fontFamily:"Montserrat",margin:"16px",borderRadius:"8px"},children:[(0,d.jsx)(i.Z,{id:"alert-dialog-title",style:{backgroundColor:"#fafafb"},children:(0,d.jsxs)("div",{style:{fontFamily:"Montserrat",fontSize:"22px",fontWeight:"bold",fontStretch:"normal",fontStyle:"normal",lineHeight:1.71,letterSpacing:"0.1px",textAlign:"left",color:"#92929d"},children:["Delete ",e.title," ?"]})}),(0,d.jsx)(a.Z,{}),(0,d.jsxs)(o.Z,{children:["Are you sure you want to delete this"," ",(0,d.jsx)("span",{style:{textTransform:"lowercase"},children:e.title}),"?"]}),(0,d.jsxs)(s.Z,{children:[(0,d.jsx)(l.Z,{varient:"contained",onclick:e.handleClose,name:"Cancel",styled:{backgroundColor:"red"},size:"large",fullWidth:!0}),(0,d.jsx)(l.Z,{varient:"outlined",onclick:e.handleDelete,name:"Ok",size:"large",fullWidth:!0})]})]})}},23357:function(e,n,t){t.r(n),t.d(n,{default:function(){return D}});var r=t(42982),i=t(15861),a=t(70885),o=t(4942),s=t(87757),l=t.n(s),d=t(53767),c=t(58406),u=t(23786),f=t(72455),h=t(60729),x=t(72791),m=t(16030),g=t(16871),p=t(87781),v=t(56889),Z=t(87268),j=t(23197),y=t(77724),k=t(26067),w=t(1413),b=t(56960),S=t(98874),C=t(5289),A=t(65661),T=t(94721),W=t(39157),B=t(61889),N=t(80184),P=function(e){var n=(0,x.useState)({orgid:""}),t=(0,a.Z)(n,2),r=t[0],i=t[1];return(0,x.useEffect)((function(){i({orgid:""})}),[e]),(0,N.jsxs)(C.Z,{open:e.open,onClose:e.handleClose,fullWidth:!0,maxWidth:"xs",style:{textAlign:"center",fontFamily:"Montserrat",margin:"16px",borderRadius:"8px"},children:[(0,N.jsx)(A.Z,{id:"alert-dialog-title",style:{backgroundColor:"#fafafb"},children:(0,N.jsx)("div",{style:{fontFamily:"Montserrat",fontSize:"22px",fontWeight:"bold",fontStretch:"normal",fontStyle:"normal",lineHeight:1.71,letterSpacing:"0.1px",textAlign:"left",color:"#92929d"},children:"Assign User"})}),(0,N.jsx)(T.Z,{}),(0,N.jsx)(W.Z,{children:(0,N.jsxs)(B.ZP,{container:!0,spacing:2,children:[(0,N.jsx)(B.ZP,{item:!0,lg:12,md:12,sm:12,xs:12,children:(0,N.jsx)(S.Z,{label:"User's",options:e.userData||[],value:r.orgid,onChange:function(e){return n="orgid",t=e,i((function(e){return(0,w.Z)((0,w.Z)({},e),{},(0,o.Z)({},n,t))}));var n,t}})}),(0,N.jsx)(B.ZP,{item:!0,lg:6,md:6,sm:6,xs:6,children:(0,N.jsx)(v.Z,{name:"Add",varient:"contained",size:"large",fullWidth:!0,onclick:function(){return r.orgid&&r.orgid.value?e.handleAssign(e.id,r.orgid.value):b.Am.error("Please Select Organization")}})}),(0,N.jsx)(B.ZP,{item:!0,lg:6,md:6,sm:6,xs:6,children:(0,N.jsx)(v.Z,{varient:"outlined",name:"Cancel",onclick:e.handleClose,size:"large",fullWidth:!0})})]})})]})},z=t(16169),L=function(e){var n=(0,x.useState)(""),t=(0,a.Z)(n,2),r=t[0],i=t[1];return(0,x.useEffect)((function(){i("")}),[e]),(0,N.jsxs)(C.Z,{open:e.open,onClose:e.handleClose,fullWidth:!0,maxWidth:"xs",style:{textAlign:"center",fontFamily:"Montserrat",margin:"16px",borderRadius:"8px"},children:[(0,N.jsx)(A.Z,{id:"alert-dialog-title",style:{backgroundColor:"#fafafb"},children:(0,N.jsx)("div",{style:{fontFamily:"Montserrat",fontSize:"22px",fontWeight:"bold",fontStretch:"normal",fontStyle:"normal",lineHeight:1.71,letterSpacing:"0.1px",textAlign:"left",color:"#92929d"},children:"Add Your hours"})}),(0,N.jsx)(T.Z,{}),(0,N.jsx)(W.Z,{children:(0,N.jsxs)(B.ZP,{container:!0,spacing:2,children:[(0,N.jsx)(B.ZP,{item:!0,lg:12,md:12,sm:12,xs:12,children:(0,N.jsx)(z.Z,{type:"number",value:r,label:"Hours",onChange:function(e){return i(e)},required:!0})}),(0,N.jsx)(B.ZP,{item:!0,lg:6,md:6,sm:6,xs:6,children:(0,N.jsx)(v.Z,{name:"Add",varient:"contained",size:"large",fullWidth:!0,onclick:function(){return r&&r>0?e.handleAssign(+r,e.id):b.Am.error("Please Enter Hr Grater Then 0")}})}),(0,N.jsx)(B.ZP,{item:!0,lg:6,md:6,sm:6,xs:6,children:(0,N.jsx)(v.Z,{varient:"outlined",name:"Cancel",onclick:e.handleClose,size:"large",fullWidth:!0})})]})})]})},_=new(t(42836).Z),M=(0,f.Z)((function(e){return{aboutContainer:(0,o.Z)({paddingTop:"8em",width:"90%",textAlign:"center",margin:"auto",paddingBottom:"10em"},e.breakpoints.down("md"),{width:"95%"}),sortContainer:{display:"flex",gap:"10px",background:"white",padding:"10px",borderRadius:"8px"},sortLabel:{fontSize:"14px",color:"#696974",paddingTop:"10px",paddingRight:"10px"}}})),D=function(e){var n=M(),t=(0,g.s0)(),o=(0,x.useState)(!0),s=(0,a.Z)(o,2),f=s[0],w=s[1],b=(0,x.useState)([]),S=(0,a.Z)(b,2),C=S[0],A=S[1],T=(0,x.useState)([]),W=(0,a.Z)(T,2),B=W[0],z=W[1],D=(0,x.useState)("de"),R=(0,a.Z)(D,2),E=R[0],F=R[1],H=(0,x.useState)(""),I=(0,a.Z)(H,2),O=I[0],G=I[1],q=(0,x.useState)(!1),U=(0,a.Z)(q,2),V=U[0],Y=U[1],J=(0,x.useState)(!1),K=(0,a.Z)(J,2),Q=K[0],X=K[1],$=(0,x.useState)(!1),ee=(0,a.Z)($,2),ne=ee[0],te=ee[1],re=(0,x.useState)(!1),ie=(0,a.Z)(re,2),ae=ie[0],oe=ie[1],se=(0,m.v9)((function(e){return e.auth.user})),le=(0,m.I0)(),de=(0,p.DE)({setTitle:k.T,getSearchLink:y.s7,deleteSearchLinkById:y.et,udpdateSearchLink:y.tB,getSubAdmin:y.kb},le),ce=function(){var e=(0,i.Z)(l().mark((function e(n,t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(te((function(){return""})),oe((function(){return!1})),w((function(){return!0})),!t){e.next=8;break}return e.next=6,de.udpdateSearchLink({hoursSpent:n,close:!0},t);case 6:return e.next=8,ue();case 8:w((function(){return!1}));case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),ue=function(){var e=(0,i.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),F("de"),_.createToken(),e.next=5,de.getSearchLink(_.getToken());case 5:(n=e.sent)&&n.length?(A((function(){return n})),z((function(){return n}))):(A((function(){return[]})),z((function(){return[]}))),w(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=(0,i.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Y(!1),w(!0),!O){e.next=8;break}return e.next=5,de.deleteSearchLinkById(O);case 5:return e.next=7,ue();case 7:G("");case 8:w(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,x.useEffect)((function(){return de.setTitle({title:e.title}),ue(),pe(),function(){return _.cancelTheApi()}}),[]);var he=(0,x.useState)([]),xe=(0,a.Z)(he,2),me=xe[0],ge=xe[1],pe=function(){var e=(0,i.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("analyst"===se.subRole){e.next=6;break}return _.createToken(),e.next=4,de.getSubAdmin("",_.getToken());case 4:(n=e.sent)&&n.length?ge((function(){return n.map((function(e){return{label:e.name,value:e._id}}))})):ge((function(){return[]}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=(0,i.Z)(l().mark((function e(n,t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return te((function(){return""})),X((function(){return!1})),w((function(){return!0})),e.next=5,de.udpdateSearchLink({assignedBy:se.id,assignedTo:t},n);case 5:return e.next=7,ue();case 7:w((function(){return!1}));case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Ze=[{field:"searchName",headerName:"Name",minWidth:120,flex:.5},{field:"searchLink",headerName:"Source Of Finding",minWidth:140,flex:.5},{field:"linkType",headerName:"Link Type",minWidth:90,flex:.5},{field:"notes",headerName:"Notes",minWidth:120},{field:"claimUserId",headerName:"Created By",renderCell:function(e){return(0,N.jsx)("div",{children:e.row.createdBy&&e.row.createdBy.name||"-"})},minWidth:120,valueGetter:function(e){var n=e.row,t="-";return n.createdBy&&n.createdBy.name&&(t=n.createdBy.name),t}},{field:"assignedBy",headerName:"Assigned By",renderCell:function(e){return(0,N.jsx)("div",{children:e.row.assignedBy&&e.row.assignedBy.name||"-"})},minWidth:120,valueGetter:function(e){var n=e.row,t="-";return n.assignedBy&&n.assignedBy.name&&(t=n.assignedBy.name),t}},{field:"assignedTo",headerName:"Assigned To",renderCell:function(e){return(0,N.jsx)("div",{children:e.row.assignedTo&&e.row.assignedTo.name||"-"})},minWidth:120,valueGetter:function(e){var n=e.row,t="-";return n.assignedTo&&n.assignedTo.name&&(t=n.assignedTo.name),t}},{field:"orgCount",headerName:"Org Count",minWidth:90},{field:"hoursSpent",headerName:"Hours Spend",minWidth:90},{field:"close",headerName:"Close",minWidth:90},{field:"action",headerName:"Action",sortable:!1,filterable:!1,minWidth:190,flex:1,renderCell:function(e){return(0,N.jsxs)("div",{style:{display:"flex",gap:"5px",maxHeight:"40px"},children:[!e.row.close&&(0,N.jsx)(v.Z,{name:"Edit",varient:"contained",onclick:function(){return t("/edit-search/".concat(e.row._id))}}),"analyst"!==se.subRole&&!e.row.close&&!e.row.assignedTo&&(0,N.jsx)(v.Z,{name:"Assign",varient:"contained",onclick:function(){te((function(){return e.row._id})),X((function(){return!0}))}}),!e.row.assignedTo&&!e.row.close&&(0,N.jsx)(v.Z,{name:"Claim",varient:"contained",onclick:function(){return ve(e.row._id,se.id)}}),e.row.assignedTo&&!e.row.close&&(0,N.jsx)(v.Z,{name:"Add Org",varient:"contained",onclick:function(){return t("/org-add/".concat(e.row._id))}}),e.row.assignedTo&&!e.row.close&&(0,N.jsx)(v.Z,{name:"Close",varient:"contained",onclick:function(){te((function(){return e.row._id})),oe((function(){return!0}))}}),(0,N.jsx)(v.Z,{name:"Make A Copy",varient:"contained",onclick:function(){return t("/add-search/".concat(e.row._id))}}),se&&"analyst"!==se.subRole&&(0,N.jsx)(v.Z,{name:"Delete",varient:"contained",styled:{backgroundColor:"red"},onclick:function(){return n=e.row._id,G((function(){return n})),void Y((function(){return!0}));var n}})]})}}];return(0,N.jsxs)("div",{className:n.aboutContainer,children:[(0,N.jsxs)(d.Z,{direction:"row",justifyContent:"space-between",style:{marginBottom:"20px"},children:[(0,N.jsx)("div",{children:(0,N.jsx)(v.Z,{name:"Add Search Link",className:"w-100",varient:"contained",onclick:function(){return t("/add-search")}})}),(0,N.jsxs)("div",{className:n.sortContainer,children:[(0,N.jsx)("div",{className:n.sortLabel,children:"View:"}),(0,N.jsxs)(c.Z,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:E,size:"small",variant:"standard",onChange:function(e){return function(e){if("de"!==e){var n=[];switch(e){case 2:B.forEach((function(e){e.linkType.match("Potential Primary")&&n.push(e)}));break;case 3:B.forEach((function(e){e.linkType.match("Must Search to Sort")&&n.push(e)}))}A((function(){return n}))}else A((function(){return B}));F(e)}(e.target.value)},children:[(0,N.jsx)(u.Z,{value:"de",children:(0,N.jsx)("em",{children:"All"})}),(0,N.jsx)(u.Z,{value:2,children:"Potential Primary"}),(0,N.jsx)(u.Z,{value:3,children:"Must Search to Sort"})]})]})]}),(0,N.jsx)("div",{style:{height:550,overflow:"auto",width:"100%"},children:(0,N.jsx)(h._,{getRowId:function(e){return e._id},rows:C||[],disableExtendRowFullWidth:!1,columns:Ze,disableSelectionOnClick:!0,loading:f,rowsPerPageOptions:(0,r.Z)(j.Z.pageSlot)})}),(0,N.jsx)(P,{open:Q,handleClose:function(){te((function(){return""})),X((function(){return!1}))},userData:me,id:ne,handleAssign:function(e,n){return ve(e,n)}}),(0,N.jsx)(L,{open:ae,handleClose:function(){te((function(){return""})),oe((function(){return!1}))},id:ne,handleAssign:function(e,n){return ce(e,n)}}),(0,N.jsx)(Z.Z,{open:V,title:"Search Link",handleClose:function(){return Y(!1)},handleDelete:function(){return fe()}})]})}}}]);
//# sourceMappingURL=3357.8acae464.chunk.js.map