"use strict";(self.webpackChunkplan_her=self.webpackChunkplan_her||[]).push([[3437],{98874:function(e,n,t){var r=t(1413),a=t(36280),i=t(48561),l=t(80184),o={control:function(e){return(0,r.Z)((0,r.Z)({},e),{},{minHeight:56,zindex:99999})},menu:function(e){return(0,r.Z)((0,r.Z)({},e),{},{zIndex:9999,position:""})}};n.Z=function(e){var n=e.label,t=e.onChange,r=e.value,u=e.onBlur,s=e.validator,c=e.options,d=e.required,f=void 0!==d&&d,m=e.disabled,x=void 0!==m&&m,h=e.isMulti,p=void 0!==h&&h,g=e.oldData,b=void 0!==g&&g;return(0,l.jsxs)(a.Z,{required:f,label:n,oldData:b,children:[(0,l.jsx)(i.ZP,{isMulti:p,name:n,options:c,isDisabled:x,onBlur:u,placeholder:n,onChange:function(e){return t(e)},value:r,styles:o}),s]})}},87268:function(e,n,t){var r=t(5289),a=t(65661),i=t(94721),l=t(39157),o=t(97123),u=t(56889),s=t(80184);n.Z=function(e){return(0,s.jsxs)(r.Z,{open:e.open,onClose:e.handleClose,fullWidth:!0,maxWidth:"xs",style:{textAlign:"center",fontFamily:"Montserrat",margin:"16px",borderRadius:"8px"},children:[(0,s.jsx)(a.Z,{id:"alert-dialog-title",style:{backgroundColor:"#fafafb"},children:(0,s.jsxs)("div",{style:{fontFamily:"Montserrat",fontSize:"22px",fontWeight:"bold",fontStretch:"normal",fontStyle:"normal",lineHeight:1.71,letterSpacing:"0.1px",textAlign:"left",color:"#92929d"},children:["Delete ",e.title," ?"]})}),(0,s.jsx)(i.Z,{}),(0,s.jsxs)(l.Z,{children:["Are you sure you want to delete this"," ",(0,s.jsx)("span",{style:{textTransform:"lowercase"},children:e.title}),"?"]}),(0,s.jsxs)(o.Z,{children:[(0,s.jsx)(u.Z,{varient:"contained",onclick:e.handleClose,name:"Cancel",styled:{backgroundColor:"red"},size:"large",fullWidth:!0}),(0,s.jsx)(u.Z,{varient:"outlined",onclick:e.handleDelete,name:"Ok",size:"large",fullWidth:!0})]})]})}},3437:function(e,n,t){t.r(n),t.d(n,{default:function(){return O}});var r=t(42982),a=t(15861),i=t(70885),l=t(4942),o=t(87757),u=t.n(o),s=t(82167),c=t(53767),d=t(27391),f=t(72455),m=t(72791),x=t(16030),h=t(87781),p=t(56889),g=t(87268),b=t(23197),Z=t(77724),v=t(26067),j=t(1413),w=t(5289),C=t(65661),y=t(94721),k=t(39157),S=t(61889),A=t(21885),R=t.n(A),N=t(16169),W=t(3900),M=t(98874),P=t(48205),T=t(80184),z=[{label:"Directory Analyst",value:"analyst"},{label:"Admin Manager",value:"manager"},{label:"Compliance Officer",value:"officer"},{label:"Master Admin",value:"master"}],D=function(e){var n=(0,m.useRef)(new(R())),t=(0,x.I0)(),r=(0,h.DE)({addSubAdmin:Z.pQ,updateSubAdmin:Z.OO},t),o=(0,m.useState)({name:"",email:"",subRole:"",contact:""}),s=(0,i.Z)(o,2),c=s[0],d=s[1];(0,m.useEffect)((function(){e.udata?d((function(){return(0,j.Z)((0,j.Z)({},e.udata),{},{subRole:z.find((function(n){return n.value===e.udata.subRole}))})})):d((function(){return{name:"",email:"",subRole:"",contact:""}}))}),[e]);var f=(0,m.useState)(!1),g=(0,i.Z)(f,2)[1],b=(0,m.useState)(!1),v=(0,i.Z)(b,2),A=v[0],D=v[1],E=function(){var t=(0,a.Z)(u().mark((function t(){var a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.current.allValid()){t.next=19;break}if(D(!0),a={name:c.name,email:c.email,subRole:c.subRole.value,role:"admin",type:"web"},c.contact&&(a.contact=c.contact.replace("(","").replace(")","").replace("-","")),!e.udata){t.next=11;break}return delete a.email,a.id=e.udata._id,t.next=9,r.updateSubAdmin(a);case 9:t.next=13;break;case 11:return t.next=13,r.addSubAdmin(a);case 13:D(!1),n.current.visibleFields=[],d((function(){return{name:"",email:"",subRole:"",contact:""}})),e.handleClose(),t.next=22;break;case 19:return n.current.showMessages(),t.next=22,g((function(){return!0}));case 22:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),q=function(e,n){return d((function(t){return(0,j.Z)((0,j.Z)({},t),{},(0,l.Z)({},e,n))}))},B=function(){var e=(0,a.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g((function(){return!1}));case 2:return n.current.showMessageFor(t),e.next=5,g((function(){return!0}));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,T.jsxs)(w.Z,{open:e.open,onClose:e.handleClose,fullWidth:!0,maxWidth:"xs",style:{textAlign:"center",fontFamily:"Montserrat",margin:"16px",borderRadius:"8px"},children:[(0,T.jsx)(C.Z,{id:"alert-dialog-title",style:{backgroundColor:"#fafafb"},children:(0,T.jsxs)("div",{style:{fontFamily:"Montserrat",fontSize:"22px",fontWeight:"bold",fontStretch:"normal",fontStyle:"normal",lineHeight:1.71,letterSpacing:"0.1px",textAlign:"left",color:"#92929d"},children:[e.udata?"Edit":"Add"," Sub Admin"]})}),(0,T.jsx)(y.Z,{}),A?(0,T.jsx)(P.Z,{}):(0,T.jsx)(k.Z,{children:(0,T.jsxs)(S.ZP,{container:!0,spacing:2,children:[(0,T.jsx)(S.ZP,{item:!0,lg:12,md:12,sm:12,xs:12,children:(0,T.jsx)(N.Z,{label:"Name",required:!0,type:"text",value:c.name,onChange:function(e){return q("name",e)},onBlur:function(){return B("Name")},validator:n.current.message("Name",c.name,"required",{className:"errorClass"})})}),(0,T.jsx)(S.ZP,{item:!0,lg:12,md:12,sm:12,xs:12,children:(0,T.jsx)(N.Z,{label:"Email",required:!0,type:"text",disabled:!!e.udata,value:c.email,onChange:function(e){return q("email",e)},onBlur:function(){return B("email")},validator:n.current.message("email",c.email,"required|email",{className:"errorClass"})})}),(0,T.jsx)(S.ZP,{item:!0,lg:12,md:12,sm:12,xs:12,children:(0,T.jsx)(M.Z,{required:!0,label:"Role",isMulti:!1,onBlur:function(){return B("Role")},validator:n.current.message("Role",c.subRole,"required",{className:"errorClass"}),options:z,value:c.subRole,onChange:function(e){return q("subRole",e)}})}),(0,T.jsx)(S.ZP,{item:!0,lg:12,md:12,sm:12,xs:12,children:(0,T.jsx)(W.Z,{value:c.contact,label:"Phone Number",onChange:function(e){return q("contact",e)},onBlur:function(){return B("phone")},validator:n.current.message("phone",c.contact,"phone",{className:"errorClass"})})}),(0,T.jsx)(S.ZP,{item:!0,lg:6,md:6,sm:6,xs:6,children:(0,T.jsx)(p.Z,{name:e.udata?"Edit":"Add",varient:"contained",size:"large",fullWidth:!0,onclick:E})}),(0,T.jsx)(S.ZP,{item:!0,lg:6,md:6,sm:6,xs:6,children:(0,T.jsx)(p.Z,{varient:"outlined",name:"Cancel",onclick:e.handleClose,size:"large",fullWidth:!0})})]})})]})},E=t(763),q=t(60729),B=new(t(42836).Z),F=(0,f.Z)((function(e){return{aboutContainer:(0,l.Z)({paddingTop:"8em",width:"90%",textAlign:"center",margin:"auto",paddingBottom:"10em"},e.breakpoints.down("md"),{width:"95%"}),sortContainer:{display:"flex",gap:"10px",background:"white",padding:"10px",borderRadius:"8px"},sortLabel:{fontSize:"14px",color:"#696974",paddingTop:"10px",paddingRight:"10px"}}})),O=function(e){var n=F(),t=(0,m.useState)(!1),l=(0,i.Z)(t,2),o=l[0],f=l[1],j=(0,m.useState)(""),w=(0,i.Z)(j,2),C=w[0],y=w[1],k=(0,m.useState)(!0),S=(0,i.Z)(k,2),A=S[0],R=S[1],N=(0,m.useState)([]),W=(0,i.Z)(N,2),M=W[0],P=W[1],z=(0,m.useState)(""),O=(0,i.Z)(z,2),_=O[0],I=O[1],H=(0,m.useState)(!1),U=(0,i.Z)(H,2),L=U[0],Q=U[1],V=(0,m.useState)(""),$=(0,i.Z)(V,2),G=$[0],J=$[1],K=(0,m.useCallback)((0,E.debounce)((function(e){return X(e)}),1e3),[]),X=function(){var e=(0,a.Z)(u().mark((function e(n){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),B.createToken(),e.next=4,ee.getSubAdmin(n,B.getToken());case 4:(t=e.sent)&&t.length?P((function(){return t})):P((function(){return[]})),R(!1);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Y=(0,x.I0)(),ee=(0,h.DE)({setTitle:v.T,getSubAdmin:Z.kb,deleteSubAdmin:Z.$x},Y),ne=function(e){y((function(){return e})),f((function(){return!0}))},te=function(){var e=(0,a.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Q(!1),R(!0),!_){e.next=8;break}return e.next=5,ee.deleteSubAdmin(_);case 5:return e.next=7,re();case 7:I("");case 8:R(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=(0,a.Z)(u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),B.createToken(),e.next=4,ee.getSubAdmin("",B.getToken());case 4:(n=e.sent)&&n.length?P((function(){return n})):P((function(){return[]})),R(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,m.useEffect)((function(){return ee.setTitle({title:e.title}),re(),function(){return B.cancelTheApi()}}),[]);var ae=[{field:"name",headerName:"Name",flex:1,minWidth:120},{field:"email",headerName:"Email",flex:1,minWidth:120},{field:"contact",headerName:"Phone",width:120},{field:"subRole",headerName:"Role",width:120},{field:"action",headerName:"Action",sortable:!1,filterable:!1,width:180,renderCell:function(e){return(0,T.jsxs)("div",{style:{display:"flex",gap:"5px"},children:[(0,T.jsx)(p.Z,{name:"Edit",varient:"contained",onclick:function(){return ne(e.row)}}),(0,T.jsx)(p.Z,{name:"Delete",varient:"contained",styled:{backgroundColor:"red"},onclick:function(){return function(e){I((function(){return e})),Q((function(){return!0}))}(e.row._id)}})]})}}];return(0,T.jsxs)("div",{className:n.aboutContainer,children:[(0,T.jsxs)(c.Z,{direction:"row",justifyContent:"space-between",style:{marginBottom:"20px"},flexWrap:"wrap",children:[(0,T.jsxs)("div",{children:[(0,T.jsx)(s.Z,{style:{marginTop:"4px",marginRight:"3px"}}),(0,T.jsx)(d.Z,{variant:"standard",placeholder:"Search User",value:G,onChange:function(e){return n=e.target.value,K(n),void J(n);var n}})]}),(0,T.jsx)("div",{children:(0,T.jsx)(p.Z,{name:"Add Admin User",className:"w-100",varient:"contained",onclick:function(){return ne("")}})})]}),(0,T.jsx)("div",{style:{height:550,overflow:"auto",width:"100%"},children:(0,T.jsx)(q._,{getRowId:function(e){return e._id},rows:M||[],disableExtendRowFullWidth:!1,columns:ae,disableSelectionOnClick:!0,loading:A,rowsPerPageOptions:(0,r.Z)(b.Z.pageSlot)})}),(0,T.jsx)(D,{open:o,udata:C,handleClose:function(){y((function(){return""})),f((function(){return!1})),re()}}),(0,T.jsx)(g.Z,{open:L,title:"User",handleClose:function(){return Q(!1)},handleDelete:function(){return te()}})]})}},82167:function(e,n,t){var r=t(76189),a=t(80184);n.Z=(0,r.Z)((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search")}}]);
//# sourceMappingURL=3437.dd542ea3.chunk.js.map