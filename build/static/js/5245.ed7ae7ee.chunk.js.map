{"version":3,"file":"static/js/5245.ed7ae7ee.chunk.js","mappings":"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","sources":["components/UI/DeleteConfirmation.js","pages/Admin/FeedbackMgt/Feedbackmgt.js","redux/actions/Feeback/FeedbackAction.js"],"sourcesContent":["import {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Divider,\r\n} from \"@mui/material\";\r\nimport CustomButton from \"./CustomButton\";\r\n\r\nconst DeleteConfirmation = (props) => {\r\n  return (\r\n    <Dialog\r\n      open={props.open}\r\n      onClose={props.handleClose}\r\n      fullWidth\r\n      maxWidth=\"xs\"\r\n      style={{\r\n        textAlign: \"center\",\r\n        fontFamily: \"Montserrat\",\r\n        margin: \"16px\",\r\n        borderRadius: \"8px\",\r\n      }}\r\n    >\r\n      <DialogTitle\r\n        id=\"alert-dialog-title\"\r\n        style={{ backgroundColor: \"#fafafb\" }}\r\n      >\r\n        <div\r\n          style={{\r\n            fontFamily: \"Montserrat\",\r\n            fontSize: \"22px\",\r\n            fontWeight: \"bold\",\r\n            fontStretch: \"normal\",\r\n            fontStyle: \"normal\",\r\n            lineHeight: 1.71,\r\n            letterSpacing: \"0.1px\",\r\n            textAlign: \"left\",\r\n            color: \"#92929d\",\r\n          }}\r\n        >\r\n          Delete {props.title} ?\r\n        </div>\r\n      </DialogTitle>\r\n      <Divider />\r\n      <DialogContent>\r\n        Are you sure you want to delete this{\" \"}\r\n        <span style={{ textTransform: \"lowercase\" }}>{props.title}</span>?\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <CustomButton\r\n          varient=\"contained\"\r\n          onclick={props.handleClose}\r\n          name=\"Cancel\"\r\n          styled={{ backgroundColor: \"red\" }}\r\n          size=\"large\"\r\n          fullWidth={true}\r\n        />\r\n        <CustomButton\r\n          varient=\"outlined\"\r\n          onclick={props.handleDelete}\r\n          name=\"Ok\"\r\n          size=\"large\"\r\n          fullWidth={true}\r\n        />\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default DeleteConfirmation;\r\n","import { bindActionCreators } from \"redux\";\r\nimport { setTitle } from \"../../../redux/actions/theme/themeActions\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { makeStyles } from \"@mui/styles\";\r\nimport { useState } from \"react\";\r\nimport {\r\n  daleteFeedbacks,\r\n  getFeedbacks,\r\n} from \"../../../redux/actions/Feeback/FeedbackAction\";\r\nimport CustomButton from \"../../../components/UI/CustomButton\";\r\nimport DeleteConfirmation from \"../../../components/UI/DeleteConfirmation\";\r\nimport config from \"../../../config\";\r\nimport { DataGrid } from \"@mui/x-data-grid\";\r\nimport { MenuItem, Select, Stack } from \"@mui/material\";\r\nimport CancelToken from \"../../../utils/cancelClass\";\r\nconst ctc = new CancelToken();\r\n\r\nconst useStyle = makeStyles((theme) => ({\r\n  aboutContainer: {\r\n    paddingTop: \"8em\",\r\n    width: \"90%\",\r\n    textAlign: \"center\",\r\n    margin: \"auto\",\r\n    paddingBottom: \"10em\",\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      width: \"95%\",\r\n    },\r\n  },\r\n  sortContainer: {\r\n    display: \"flex\",\r\n    gap: \"10px\",\r\n    background: \"white\",\r\n    padding: \"10px\",\r\n    borderRadius: \"8px\",\r\n  },\r\n  sortLabel: {\r\n    fontSize: \"14px\",\r\n    color: \"#696974\",\r\n    paddingTop: \"10px\",\r\n    paddingRight: \"10px\",\r\n  },\r\n}));\r\n\r\nconst Feedbackmgt = (props) => {\r\n  const classes = useStyle();\r\n  const dispatch = useDispatch();\r\n  const actions = bindActionCreators(\r\n    { setTitle, daleteFeedbacks, getFeedbacks },\r\n    dispatch\r\n  );\r\n  const [loading, setLoading] = useState(true);\r\n  const [data, setData] = useState([]);\r\n  const [delId, setDelId] = useState(\"\");\r\n  const [deleteModal, setDeleteModal] = useState(false);\r\n  const [arch, setArch] = useState(\"unArchive\");\r\n\r\n  useEffect(() => {\r\n    actions.setTitle({ title: props.title });\r\n    loadData();\r\n    return () => ctc.cancelTheApi();\r\n  }, []);\r\n\r\n  const loadData = async () => {\r\n    setLoading(() => true);\r\n    ctc.createToken();\r\n    const res = await actions.getFeedbacks(ctc.getToken());\r\n    if (res) {\r\n      setData(() => res);\r\n    } else {\r\n      setData(() => []);\r\n    }\r\n    setLoading(() => false);\r\n  };\r\n\r\n  const handleDeleteModalOpen = (id) => {\r\n    setDelId(() => id);\r\n    setDeleteModal(() => true);\r\n  };\r\n  const deleteFeedback = async (id) => {\r\n    setDeleteModal(false);\r\n    setLoading(true);\r\n    if (delId || id) {\r\n      await actions.daleteFeedbacks(delId || id);\r\n      await loadData();\r\n    }\r\n    setLoading(() => false);\r\n  };\r\n  const columns = [\r\n    { field: \"name\", headerName: \"Name\", flex: 1, minWidth: 120 },\r\n    {\r\n      field: \"email\",\r\n      headerName: \"Email\",\r\n      flex: 1,\r\n      minWidth: 120,\r\n    },\r\n    {\r\n      headerName: \"Organization\",\r\n      minWidth: 120,\r\n      field: \"profileId1\",\r\n      valueGetter: ({ row }) => {\r\n        let result = \"-\";\r\n        if (\r\n          row.siteId &&\r\n          row.siteId.organisationId &&\r\n          row.siteId.organisationId.name\r\n        ) {\r\n          result = row.siteId.organisationId.name;\r\n        }\r\n        return result;\r\n      },\r\n    },\r\n    {\r\n      headerName: \"Site\",\r\n      minWidth: 120,\r\n      field: \"profileId2\",\r\n      flex: 1,\r\n      valueGetter: ({ row }) => {\r\n        let result = \"-\";\r\n        if (row.siteId && row.siteId.name) {\r\n          result = row.siteId.name;\r\n        }\r\n        return result;\r\n      },\r\n    },\r\n    {\r\n      flex: 1,\r\n      headerName: \"Feedback\",\r\n      field: \"feedback\",\r\n      minWidth: 120,\r\n    },\r\n\r\n    {\r\n      field: \"action\",\r\n      headerName: \"Action\",\r\n      sortable: false,\r\n      filterable: false,\r\n      minWidth: 190,\r\n      renderCell: ({ row }) => {\r\n        return (\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              gap: \"10px\",\r\n            }}\r\n          >\r\n            {\" \"}\r\n            <CustomButton\r\n              name={arch === \"archive\" ? \"unarchive\" : \"archive\"}\r\n              varient={\"contained\"}\r\n              onclick={() => deleteFeedback(row._id)}\r\n            />\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n  return (\r\n    <div className={classes.aboutContainer}>\r\n      <Stack\r\n        direction=\"row\"\r\n        justifyContent=\"space-between\"\r\n        style={{ marginBottom: \"20px\" }}\r\n      >\r\n        <div className={classes.sortContainer}>\r\n          <div className={classes.sortLabel}>View:</div>\r\n          <Select\r\n            labelId=\"demo-simple-select-helper-label\"\r\n            id=\"demo-simple-select-helper\"\r\n            size=\"small\"\r\n            variant=\"standard\"\r\n            value={arch}\r\n            onChange={(e) => setArch(e.target.value)}\r\n          >\r\n            <MenuItem value={\"archive\"}>archive</MenuItem>\r\n            <MenuItem value={\"unArchive\"}>unarchive</MenuItem>\r\n          </Select>\r\n        </div>\r\n      </Stack>\r\n      <div style={{ height: 550, overflow: \"auto\", width: \"100%\" }}>\r\n        <DataGrid\r\n          getRowId={(row) => row._id}\r\n          rows={data[arch] || []}\r\n          disableExtendRowFullWidth={false}\r\n          columns={columns}\r\n          disableSelectionOnClick\r\n          loading={loading}\r\n          rowHeight={100}\r\n          rowsPerPageOptions={[...config.pageSlot]}\r\n        />\r\n      </div>\r\n      <DeleteConfirmation\r\n        open={deleteModal}\r\n        title=\"Site\"\r\n        handleClose={() => setDeleteModal(false)}\r\n        handleDelete={() => deleteFeedback()}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Feedbackmgt;\r\n","import { toast } from \"react-toastify\";\r\nimport { api } from \"../../api/api\";\r\nimport { ERRORMSG } from \"../../constants\";\r\nexport const getFeedbacks = (token) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const res = await api(`get-feedBack`, {}, \"get\", token);\r\n\r\n      if (res && res.code && res.code === 200 && res.success) {\r\n        return res.data;\r\n      } else {\r\n        toast.error((res && res.message) || ERRORMSG);\r\n      }\r\n    } catch (error) {\r\n      toast.error(ERRORMSG);\r\n    }\r\n  };\r\n};\r\n\r\nexport const addFeedbacks = (data) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const res = await api(`create-feedBack`, data, \"post\");\r\n\r\n      if (res && res.code && res.code === 200 && res.success) {\r\n        toast.success(res.message);\r\n      } else {\r\n        toast.error((res && res.message) || ERRORMSG);\r\n      }\r\n    } catch (error) {\r\n      toast.error(ERRORMSG);\r\n    }\r\n  };\r\n};\r\nexport const daleteFeedbacks = (id) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const res = await api(`delete-feedBack?id=${id}`, {}, \"delete\");\r\n\r\n      if (res && res.code && res.code === 200 && res.success) {\r\n        toast.success(res.message);\r\n      } else {\r\n        toast.error((res && res.message) || ERRORMSG);\r\n      }\r\n    } catch (error) {\r\n      toast.error(ERRORMSG);\r\n    }\r\n  };\r\n};\r\n"],"names":["props","open","onClose","handleClose","fullWidth","maxWidth","style","textAlign","fontFamily","margin","borderRadius","id","backgroundColor","fontSize","fontWeight","fontStretch","fontStyle","lineHeight","letterSpacing","color","title","textTransform","varient","onclick","name","styled","size","handleDelete","ctc","CancelToken","useStyle","makeStyles","theme","aboutContainer","paddingTop","width","paddingBottom","breakpoints","down","sortContainer","display","gap","background","padding","sortLabel","paddingRight","classes","dispatch","useDispatch","actions","bindActionCreators","setTitle","daleteFeedbacks","getFeedbacks","useState","loading","setLoading","data","setData","delId","deleteModal","setDeleteModal","arch","setArch","useEffect","loadData","cancelTheApi","createToken","getToken","res","deleteFeedback","columns","field","headerName","flex","minWidth","valueGetter","row","result","siteId","organisationId","sortable","filterable","renderCell","_id","className","direction","justifyContent","marginBottom","labelId","variant","value","onChange","e","target","height","overflow","getRowId","rows","disableExtendRowFullWidth","disableSelectionOnClick","rowHeight","rowsPerPageOptions","config","token","api","code","success","toast","message","ERRORMSG","addFeedbacks"],"sourceRoot":""}