/*! For license information please see 9071.57274441.chunk.js.LICENSE.txt */
(self.webpackChunkplan_her=self.webpackChunkplan_her||[]).push([[9071],{80813:function(e,t,r){"use strict";var n=r(95318);t.Z=void 0;var i=n(r(45649)),o=r(80184),s=(0,i.default)((0,o.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"}),"Article");t.Z=s},45644:function(e,t,r){"use strict";var n=r(76189),i=r(80184);t.Z=(0,n.Z)((0,i.jsx)("path",{d:"M16.01 11H4v2h12.01v3L20 12l-3.99-4z"}),"ArrowRightAlt")},76526:function(e,t,r){"use strict";var n=r(76189),i=r(80184);t.Z=(0,n.Z)((0,i.jsx)("path",{d:"M16.5 6.75v10.58c0 2.09-1.53 3.95-3.61 4.15-2.39.23-4.39-1.64-4.39-3.98V5.14c0-1.31.94-2.5 2.24-2.63 1.5-.15 2.76 1.02 2.76 2.49v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6.75c0-.41-.34-.75-.75-.75s-.75.34-.75.75v8.61c0 1.31.94 2.5 2.24 2.63 1.5.15 2.76-1.02 2.76-2.49V5.17c0-2.09-1.53-3.95-3.61-4.15C9.01.79 7 2.66 7 5v12.27c0 2.87 2.1 5.44 4.96 5.71 3.29.3 6.04-2.26 6.04-5.48V6.75c0-.41-.34-.75-.75-.75s-.75.34-.75.75z"}),"AttachFileRounded")},93044:function(e,t,r){"use strict";r.d(t,{Z:function(){return b}});var n=r(70885),i=r(63366),o=r(87462),s=r(72791),a=r(28182),u=r(90767),c=r(66934),h=r(31402),l=r(76189),f=r(80184),d=(0,l.Z)((0,f.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),p=r(95159);function v(e){return(0,p.Z)("MuiAvatar",e)}(0,r(30208).Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var y=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],m=(0,c.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,t[r.variant],r.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme,r=e.ownerState;return(0,o.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===r.variant&&{borderRadius:t.shape.borderRadius},"square"===r.variant&&{borderRadius:0},r.colorDefault&&{color:t.palette.background.default,backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]})})),g=(0,c.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),k=(0,c.ZP)(d,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var b=s.forwardRef((function(e,t){var r=(0,h.Z)({props:e,name:"MuiAvatar"}),c=r.alt,l=r.children,d=r.className,p=r.component,b=void 0===p?"div":p,w=r.imgProps,_=r.sizes,x=r.src,A=r.srcSet,F=r.variant,E=void 0===F?"circular":F,C=(0,i.Z)(r,y),S=null,O=function(e){var t=e.crossOrigin,r=e.referrerPolicy,i=e.src,o=e.srcSet,a=s.useState(!1),u=(0,n.Z)(a,2),c=u[0],h=u[1];return s.useEffect((function(){if(i||o){h(!1);var e=!0,n=new Image;return n.onload=function(){e&&h("loaded")},n.onerror=function(){e&&h("error")},n.crossOrigin=t,n.referrerPolicy=r,n.src=i,o&&(n.srcset=o),function(){e=!1}}}),[t,r,i,o]),c}((0,o.Z)({},w,{src:x,srcSet:A})),R=x||A,B=R&&"error"!==O,T=(0,o.Z)({},r,{colorDefault:!B,component:b,variant:E}),N=function(e){var t=e.classes,r={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,u.Z)(r,v,t)}(T);return S=B?(0,f.jsx)(g,(0,o.Z)({alt:c,src:x,srcSet:A,sizes:_,ownerState:T,className:N.img},w)):null!=l?l:R&&c?c[0]:(0,f.jsx)(k,{className:N.fallback}),(0,f.jsx)(m,(0,o.Z)({as:b,ownerState:T,className:(0,a.Z)(N.root,d),ref:t},C,{children:S}))}))},23529:function(e,t){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}t.Q=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<n.length;i++)if((r=n[i])===t||r.fn===t){n.splice(i,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){n=0;for(var i=(r=r.slice(0)).length;n<i;++n)r[n].apply(this,t)}return this},r.prototype.emitReserved=r.prototype.emit,r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},68077:function(e){function t(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=t,t.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-r:e+r}return 0|Math.min(e,this.max)},t.prototype.reset=function(){this.attempts=0},t.prototype.setMin=function(e){this.ms=e},t.prototype.setMax=function(e){this.max=e},t.prototype.setJitter=function(e){this.jitter=e}},36421:function(e){try{e.exports="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},89701:function(e,t,r){"use strict";r.d(t,{Z:function(){return _}});var n=function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};function i(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(a){i={error:a}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}var s,a="KEYS",u="VALUES",c="",h=function(){function e(e,t){var r=e._tree,n=Array.from(r.keys());this.set=e,this._type=t,this._path=n.length>0?[{node:r,keys:n}]:[]}return e.prototype.next=function(){var e=this.dive();return this.backtrack(),e},e.prototype.dive=function(){if(0===this._path.length)return{done:!0,value:void 0};var e=l(this._path),t=e.node,r=e.keys;if(l(r)===c)return{done:!1,value:this.result()};var n=t.get(l(r));return this._path.push({node:n,keys:Array.from(n.keys())}),this.dive()},e.prototype.backtrack=function(){if(0!==this._path.length){var e=l(this._path).keys;e.pop(),e.length>0||(this._path.pop(),this.backtrack())}},e.prototype.key=function(){return this.set._prefix+this._path.map((function(e){var t=e.keys;return l(t)})).filter((function(e){return e!==c})).join("")},e.prototype.value=function(){return l(this._path).node.get(c)},e.prototype.result=function(){switch(this._type){case u:return this.value();case a:return this.key();default:return[this.key(),this.value()]}},e.prototype[Symbol.iterator]=function(){return this},e}(),l=function(e){return e[e.length-1]},f=function e(t,r,n,o,s,a,u,h){var l,f,d=a*u;try{e:for(var p=i(t.keys()),v=p.next();!v.done;v=p.next()){var y=v.value;if(y===c){var m=s[d-1];m<=n&&o.set(h,[t.get(y),m])}else{for(var g=a,k=0;k<y.length;++k,++g){for(var b=y[k],w=u*g,_=w-u,x=s[w],A=Math.max(0,g-n-1),F=Math.min(u-1,g+n),E=A;E<F;++E){var C=b!==r[E],S=s[_+E]+ +C,O=s[_+E+1]+1,R=s[w+E]+1,B=s[w+E+1]=Math.min(S,O,R);B<x&&(x=B)}if(x>n)continue e}e(t.get(y),r,n,o,s,g,u,h+y)}}}catch(T){l={error:T}}finally{try{v&&!v.done&&(f=p.return)&&f.call(p)}finally{if(l)throw l.error}}},d=function(){function e(e,t){void 0===e&&(e=new Map),void 0===t&&(t=""),this._size=void 0,this._tree=e,this._prefix=t}return e.prototype.atPrefix=function(t){var r,n;if(!t.startsWith(this._prefix))throw new Error("Mismatched prefix");var s=o(p(this._tree,t.slice(this._prefix.length)),2),a=s[0],u=s[1];if(void 0===a){var h=o(b(u),2),l=h[0],f=h[1];try{for(var d=i(l.keys()),v=d.next();!v.done;v=d.next()){var y=v.value;if(y!==c&&y.startsWith(f)){var m=new Map;return m.set(y.slice(f.length),l.get(y)),new e(m,t)}}}catch(g){r={error:g}}finally{try{v&&!v.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}}return new e(a,t)},e.prototype.clear=function(){this._size=void 0,this._tree.clear()},e.prototype.delete=function(e){return this._size=void 0,m(this._tree,e)},e.prototype.entries=function(){return new h(this,"ENTRIES")},e.prototype.forEach=function(e){var t,r;try{for(var n=i(this),s=n.next();!s.done;s=n.next()){var a=o(s.value,2);e(a[0],a[1],this)}}catch(u){t={error:u}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},e.prototype.fuzzyGet=function(e,t){return function(e,t,r){var n=new Map;if(void 0===t)return n;for(var i=t.length+1,o=i+r,s=new Uint8Array(o*i).fill(r+1),a=0;a<i;++a)s[a]=a;for(var u=1;u<o;++u)s[u*i]=u;return f(e,t,r,n,s,1,i,""),n}(this._tree,e,t)},e.prototype.get=function(e){var t=v(this._tree,e);return void 0!==t?t.get(c):void 0},e.prototype.has=function(e){var t=v(this._tree,e);return void 0!==t&&t.has(c)},e.prototype.keys=function(){return new h(this,a)},e.prototype.set=function(e,t){if("string"!==typeof e)throw new Error("key must be a string");return this._size=void 0,y(this._tree,e).set(c,t),this},Object.defineProperty(e.prototype,"size",{get:function(){if(this._size)return this._size;this._size=0;for(var e=this.entries();!e.next().done;)this._size+=1;return this._size},enumerable:!1,configurable:!0}),e.prototype.update=function(e,t){if("string"!==typeof e)throw new Error("key must be a string");this._size=void 0;var r=y(this._tree,e);return r.set(c,t(r.get(c))),this},e.prototype.fetch=function(e,t){if("string"!==typeof e)throw new Error("key must be a string");this._size=void 0;var r=y(this._tree,e),n=r.get(c);return void 0===n&&r.set(c,n=t()),n},e.prototype.values=function(){return new h(this,u)},e.prototype[Symbol.iterator]=function(){return this.entries()},e.from=function(t){var r,n,s=new e;try{for(var a=i(t),u=a.next();!u.done;u=a.next()){var c=o(u.value,2),h=c[0],l=c[1];s.set(h,l)}}catch(f){r={error:f}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return s},e.fromObject=function(t){return e.from(Object.entries(t))},e}(),p=function e(t,r,n){var o,s;if(void 0===n&&(n=[]),0===r.length||null==t)return[t,n];try{for(var a=i(t.keys()),u=a.next();!u.done;u=a.next()){var h=u.value;if(h!==c&&r.startsWith(h))return n.push([t,h]),e(t.get(h),r.slice(h.length),n)}}catch(l){o={error:l}}finally{try{u&&!u.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}return n.push([t,r]),e(void 0,"",n)},v=function e(t,r){var n,o;if(0===r.length||null==t)return t;try{for(var s=i(t.keys()),a=s.next();!a.done;a=s.next()){var u=a.value;if(u!==c&&r.startsWith(u))return e(t.get(u),r.slice(u.length))}}catch(h){n={error:h}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}},y=function(e,t){var r,n,o=t.length;e:for(var s=0;e&&s<o;){try{for(var a=(r=void 0,i(e.keys())),u=a.next();!u.done;u=a.next()){var h=u.value;if(h!==c&&t[s]===h[0]){for(var l=Math.min(o-s,h.length),f=1;f<l&&t[s+f]===h[f];)++f;var d=e.get(h);if(f===h.length)e=d;else{var p=new Map;p.set(h.slice(f),d),e.set(t.slice(s,s+f),p),e.delete(h),e=p}s+=f;continue e}}}catch(y){r={error:y}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}var v=new Map;return e.set(t.slice(s),v),v}return e},m=function(e,t){var r=o(p(e,t),2),n=r[0],i=r[1];if(void 0!==n)if(n.delete(c),0===n.size)g(i);else if(1===n.size){var s=o(n.entries().next().value,2),a=s[0],u=s[1];k(i,a,u)}},g=function e(t){if(0!==t.length){var r=o(b(t),2),n=r[0],i=r[1];if(n.delete(i),0===n.size)e(t.slice(0,-1));else if(1===n.size){var s=o(n.entries().next().value,2),a=s[0],u=s[1];a!==c&&k(t.slice(0,-1),a,u)}}},k=function(e,t,r){if(0!==e.length){var n=o(b(e),2),i=n[0],s=n[1];i.set(s+t,r),i.delete(s)}},b=function(e){return e[e.length-1]},w="or",_=function(){function e(e){if(null==(null===e||void 0===e?void 0:e.fields))throw new Error('MiniSearch: option "fields" must be provided');this._options=n(n(n({},C),e),{searchOptions:n(n({},S),e.searchOptions||{})}),this._index=new d,this._documentCount=0,this._documentIds=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this.addFields(this._options.fields)}return e.prototype.add=function(e){var t,r,n,o,s=this._options,a=s.extractField,u=s.tokenize,c=s.processTerm,h=s.fields,l=s.idField,f=a(e,l);if(null==f)throw new Error('MiniSearch: document does not have ID field "'.concat(l,'"'));var d=this.addDocumentId(f);this.saveStoredFields(d,e);try{for(var p=i(h),v=p.next();!v.done;v=p.next()){var y=v.value,m=a(e,y);if(null!=m){var g=u(m.toString(),y),k=this._fieldIds[y],b=new Set(g).size;this.addFieldLength(d,k,this._documentCount-1,b);try{for(var w=(n=void 0,i(g)),_=w.next();!_.done;_=w.next()){var x=c(_.value,y);x&&this.addTerm(k,d,x)}}catch(A){n={error:A}}finally{try{_&&!_.done&&(o=w.return)&&o.call(w)}finally{if(n)throw n.error}}}}}catch(F){t={error:F}}finally{try{v&&!v.done&&(r=p.return)&&r.call(p)}finally{if(t)throw t.error}}},e.prototype.addAll=function(e){var t,r;try{for(var n=i(e),o=n.next();!o.done;o=n.next()){var s=o.value;this.add(s)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},e.prototype.addAllAsync=function(e,t){var r=this;void 0===t&&(t={});var n=t.chunkSize,i=void 0===n?10:n,o={chunk:[],promise:Promise.resolve()},s=e.reduce((function(e,t,n){var o=e.chunk,s=e.promise;return o.push(t),(n+1)%i===0?{chunk:[],promise:s.then((function(){return new Promise((function(e){return setTimeout(e,0)}))})).then((function(){return r.addAll(o)}))}:{chunk:o,promise:s}}),o),a=s.chunk;return s.promise.then((function(){return r.addAll(a)}))},e.prototype.remove=function(e){var t,r,n,s,a,u,c=this._options,h=c.tokenize,l=c.processTerm,f=c.extractField,d=c.fields,p=c.idField,v=f(e,p);if(null==v)throw new Error('MiniSearch: document does not have ID field "'.concat(p,'"'));try{for(var y=i(this._documentIds),m=y.next();!m.done;m=y.next()){var g=o(m.value,2),k=g[0];if(v===g[1]){try{for(var b=(n=void 0,i(d)),w=b.next();!w.done;w=b.next()){var _=w.value,x=f(e,_);if(null!=x){var A=h(x.toString(),_),F=this._fieldIds[_],E=new Set(A).size;this.removeFieldLength(k,F,this._documentCount,E);try{for(var C=(a=void 0,i(A)),S=C.next();!S.done;S=C.next()){var O=l(S.value,_);O&&this.removeTerm(F,k,O)}}catch(R){a={error:R}}finally{try{S&&!S.done&&(u=C.return)&&u.call(C)}finally{if(a)throw a.error}}}}}catch(B){n={error:B}}finally{try{w&&!w.done&&(s=b.return)&&s.call(b)}finally{if(n)throw n.error}}return this._storedFields.delete(k),this._documentIds.delete(k),this._fieldLength.delete(k),void(this._documentCount-=1)}}}catch(T){t={error:T}}finally{try{m&&!m.done&&(r=y.return)&&r.call(y)}finally{if(t)throw t.error}}throw new Error("MiniSearch: cannot remove document with ID ".concat(v,": it is not in the index"))},e.prototype.removeAll=function(e){var t,r;if(e)try{for(var n=i(e),o=n.next();!o.done;o=n.next()){var s=o.value;this.remove(s)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new d,this._documentCount=0,this._documentIds=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}},e.prototype.search=function(e,t){var r,n;void 0===t&&(t={});var s=this.executeQuery(e,t),a=[];try{for(var u=i(s),c=u.next();!c.done;c=u.next()){var h=o(c.value,2),l=h[0],f=h[1],d=f.score,p=f.terms,v=f.match,y=p.length,m={id:this._documentIds.get(l),score:d*y,terms:Object.keys(v),match:v};Object.assign(m,this._storedFields.get(l)),(null==t.filter||t.filter(m))&&a.push(m)}}catch(g){r={error:g}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return a.sort(T),a},e.prototype.autoSuggest=function(e,t){var r,s,a,u;void 0===t&&(t={}),t=n(n({},O),t);var c=new Map;try{for(var h=i(this.search(e,t)),l=h.next();!l.done;l=h.next()){var f=l.value,d=f.score,p=(w=f.terms).join(" ");null!=(k=c.get(p))?(k.score+=d,k.count+=1):c.set(p,{score:d,terms:w,count:1})}}catch(x){r={error:x}}finally{try{l&&!l.done&&(s=h.return)&&s.call(h)}finally{if(r)throw r.error}}var v=[];try{for(var y=i(c),m=y.next();!m.done;m=y.next()){var g=o(m.value,2),k=g[0],b=g[1],w=(d=b.score,b.terms),_=b.count;v.push({suggestion:k,terms:w,score:d/_})}}catch(A){a={error:A}}finally{try{m&&!m.done&&(u=y.return)&&u.call(y)}finally{if(a)throw a.error}}return v.sort(T),v},Object.defineProperty(e.prototype,"documentCount",{get:function(){return this._documentCount},enumerable:!1,configurable:!0}),e.loadJSON=function(t,r){if(null==r)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return e.loadJS(JSON.parse(t),r)},e.getDefault=function(e){if(C.hasOwnProperty(e))return x(C,e);throw new Error('MiniSearch: unknown option "'.concat(e,'"'))},e.loadJS=function(t,r){var n,s,a,u,c=t.index,h=t.documentCount,l=t.nextId,f=t.documentIds,p=t.fieldIds,v=t.fieldLength,y=t.averageFieldLength,m=t.storedFields,g=t.serializationVersion;if(1!==g&&2!==g)throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");var k=new e(r);k._documentCount=h,k._nextId=l,k._documentIds=D(f),k._fieldIds=p,k._fieldLength=D(v),k._avgFieldLength=y,k._storedFields=D(m),k._index=new d;try{for(var b=i(c),w=b.next();!w.done;w=b.next()){var _=o(w.value,2),x=_[0],A=_[1],F=new Map;try{for(var E=(a=void 0,i(Object.keys(A))),C=E.next();!C.done;C=E.next()){var S=C.value,O=A[S];1===g&&(O=O.ds),F.set(parseInt(S,10),D(O))}}catch(R){a={error:R}}finally{try{C&&!C.done&&(u=E.return)&&u.call(E)}finally{if(a)throw a.error}}k._index.set(x,F)}}catch(B){n={error:B}}finally{try{w&&!w.done&&(s=b.return)&&s.call(b)}finally{if(n)throw n.error}}return k},e.prototype.executeQuery=function(e,t){var r=this;if(void 0===t&&(t={}),"string"!==typeof e){var i=n(n(n({},t),e),{queries:void 0}),o=e.queries.map((function(e){return r.executeQuery(e,i)}));return this.combineResults(o,e.combineWith)}var s=this._options,a=s.tokenize,u=s.processTerm,c=s.searchOptions,h=n(n({tokenize:a,processTerm:u},c),t),l=h.tokenize,f=h.processTerm,d=l(e).map((function(e){return f(e)})).filter((function(e){return!!e})).map(E(h)).map((function(e){return r.executeQuerySpec(e,h)}));return this.combineResults(d,h.combineWith)},e.prototype.executeQuerySpec=function(e,t){var r,s,a,u,c,h,l=n(n({},this._options.searchOptions),t),f=(l.fields||this._options.fields).reduce((function(e,t){var r;return n(n({},e),((r={})[t]=x(e,t)||1,r))}),l.boost||{}),d=l.boostDocument,p=l.weights,v=l.maxFuzzy,y=n(n({},S.weights),p),m=y.fuzzy,g=y.prefix,k=this._index.get(e.term),b=this.termResults(e.term,e.term,1,k,f,d);if(e.prefix&&(c=this._index.atPrefix(e.term)),e.fuzzy){var w=!0===e.fuzzy?.2:e.fuzzy,_=w<1?Math.min(v,Math.round(e.term.length*w)):w;_&&(h=this._index.fuzzyGet(e.term,_))}if(c)try{for(var A=i(c),F=A.next();!F.done;F=A.next()){var E=o(F.value,2),C=E[0],O=E[1];if(N=C.length-e.term.length){null===h||void 0===h||h.delete(C);var R=g*C.length/(C.length+.3*N);this.termResults(e.term,C,R,O,f,d,b)}}}catch(L){r={error:L}}finally{try{F&&!F.done&&(s=A.return)&&s.call(A)}finally{if(r)throw r.error}}if(h)try{for(var B=i(h.keys()),T=B.next();!T.done;T=B.next()){C=T.value;var N,D=o(h.get(C),2),z=D[0];if(N=D[1]){R=m*C.length/(C.length+N);this.termResults(e.term,C,R,z,f,d,b)}}}catch(I){a={error:I}}finally{try{T&&!T.done&&(u=B.return)&&u.call(B)}finally{if(a)throw a.error}}return b},e.prototype.combineResults=function(e,t){if(void 0===t&&(t=w),0===e.length)return new Map;var r=t.toLowerCase();return e.reduce(A[r])||new Map},e.prototype.toJSON=function(){var e,t,r,n,s=[];try{for(var a=i(this._index),u=a.next();!u.done;u=a.next()){var c=o(u.value,2),h=c[0],l=c[1],f={};try{for(var d=(r=void 0,i(l)),p=d.next();!p.done;p=d.next()){var v=o(p.value,2),y=v[0],m=v[1];f[y]=Object.fromEntries(m)}}catch(g){r={error:g}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}s.push([h,f])}}catch(k){e={error:k}}finally{try{u&&!u.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),index:s,serializationVersion:2}},e.prototype.termResults=function(e,t,r,n,o,s,a){var u,c,h,l,f;if(void 0===a&&(a=new Map),null==n)return a;try{for(var d=i(Object.keys(o)),p=d.next();!p.done;p=d.next()){var v=p.value,y=o[v],m=this._fieldIds[v],g=n.get(m);if(null!=g){var k=g.size,b=this._avgFieldLength[m];try{for(var w=(h=void 0,i(g.keys())),_=w.next();!_.done;_=w.next()){var A=_.value,E=s?s(this._documentIds.get(A),t):1;if(E){var C=g.get(A),S=this._fieldLength.get(A)[m],O=r*y*E*F(C,k,this._documentCount,S,b),B=a.get(A);if(B){B.score+=O,R(B.terms,e);var T=x(B.match,t);T?T.push(v):B.match[t]=[v]}else a.set(A,{score:O,terms:[e],match:(f={},f[t]=[v],f)})}}}catch(N){h={error:N}}finally{try{_&&!_.done&&(l=w.return)&&l.call(w)}finally{if(h)throw h.error}}}}}catch(D){u={error:D}}finally{try{p&&!p.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return a},e.prototype.addTerm=function(e,t,r){var n=this._index.fetch(r,N),i=n.get(e);if(null==i)(i=new Map).set(t,1),n.set(e,i);else{var o=i.get(t);i.set(t,(o||0)+1)}},e.prototype.removeTerm=function(e,t,r){if(this._index.has(r)){var n=this._index.fetch(r,N),i=n.get(e);null==i||null==i.get(t)?this.warnDocumentChanged(t,e,r):i.get(t)<=1?i.size<=1?n.delete(e):i.delete(t):i.set(t,i.get(t)-1),0===this._index.get(r).size&&this._index.delete(r)}else this.warnDocumentChanged(t,e,r)},e.prototype.warnDocumentChanged=function(e,t,r){var n,o;if(null!=console&&null!=console.warn)try{for(var s=i(Object.keys(this._fieldIds)),a=s.next();!a.done;a=s.next()){var u=a.value;if(this._fieldIds[u]===t)return void console.warn("MiniSearch: document with ID ".concat(this._documentIds.get(e),' has changed before removal: term "').concat(r,'" was not present in field "').concat(u,'". Removing a document after it has changed can corrupt the index!'))}}catch(c){n={error:c}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}},e.prototype.addDocumentId=function(e){var t=this._nextId;return this._documentIds.set(t,e),this._documentCount+=1,this._nextId+=1,t},e.prototype.addFields=function(e){for(var t=0;t<e.length;t++)this._fieldIds[e[t]]=t},e.prototype.addFieldLength=function(e,t,r,n){var i=this._fieldLength.get(e);null==i&&this._fieldLength.set(e,i=[]),i[t]=n;var o=(this._avgFieldLength[t]||0)*r+n;this._avgFieldLength[t]=o/(r+1)},e.prototype.removeFieldLength=function(e,t,r,n){var i=this._avgFieldLength[t]*r-n;this._avgFieldLength[t]=i/(r-1)},e.prototype.saveStoredFields=function(e,t){var r,n,o=this._options,s=o.storeFields,a=o.extractField;if(null!=s&&0!==s.length){var u=this._storedFields.get(e);null==u&&this._storedFields.set(e,u={});try{for(var c=i(s),h=c.next();!h.done;h=c.next()){var l=h.value,f=a(t,l);void 0!==f&&(u[l]=f)}}catch(d){r={error:d}}finally{try{h&&!h.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}}},e}(),x=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},A=((s={}).or=function(e,t){var r,n;try{for(var o=i(t.keys()),s=o.next();!s.done;s=o.next()){var a=s.value,u=e.get(a);if(null==u)e.set(a,t.get(a));else{var c=t.get(a),h=c.score,l=c.terms,f=c.match;u.score=u.score+h,u.match=Object.assign(u.match,f),B(u.terms,l)}}}catch(d){r={error:d}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return e},s.and=function(e,t){var r,n,o=new Map;try{for(var s=i(t.keys()),a=s.next();!a.done;a=s.next()){var u=a.value,c=e.get(u);if(null!=c){var h=t.get(u),l=h.score,f=h.terms,d=h.match;B(c.terms,f),o.set(u,{score:c.score+l,terms:c.terms,match:Object.assign(c.match,d)})}}}catch(p){r={error:p}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},s.and_not=function(e,t){var r,n;try{for(var o=i(t.keys()),s=o.next();!s.done;s=o.next()){var a=s.value;e.delete(a)}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return e},s),F=function(e,t,r,n,i){return Math.log(1+(r-t+.5)/(t+.5))*(.5+2.2*e/(e+1.2*(1-.7+.7*n/i)))},E=function(e){return function(t,r,n){return{term:t,fuzzy:"function"===typeof e.fuzzy?e.fuzzy(t,r,n):e.fuzzy||!1,prefix:"function"===typeof e.prefix?e.prefix(t,r,n):!0===e.prefix}}},C={idField:"id",extractField:function(e,t){return e[t]},tokenize:function(e,t){return e.split(z)},processTerm:function(e,t){return e.toLowerCase()},fields:void 0,searchOptions:void 0,storeFields:[]},S={combineWith:w,prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375}},O={prefix:function(e,t,r){return t===r.length-1}},R=function(e,t){e.includes(t)||e.push(t)},B=function(e,t){var r,n;try{for(var o=i(t),s=o.next();!s.done;s=o.next()){var a=s.value;e.includes(a)||e.push(a)}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},T=function(e,t){var r=e.score;return t.score-r},N=function(){return new Map},D=function(e){var t,r,n=new Map;try{for(var o=i(Object.keys(e)),s=o.next();!s.done;s=o.next()){var a=s.value;n.set(parseInt(a,10),e[a])}}catch(u){t={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n},z=/[\n\r -#%-\*,-\/:;\?@\[-\]_\{\}\xA0\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]+/},55988:function(e,t){t.encode=function(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t},t.decode=function(e){for(var t={},r=e.split("&"),n=0,i=r.length;n<i;n++){var o=r[n].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},1176:function(e){var t=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var n=e,i=e.indexOf("["),o=e.indexOf("]");-1!=i&&-1!=o&&(e=e.substring(0,i)+e.substring(i,o).replace(/:/g,";")+e.substring(o,e.length));for(var s=t.exec(e||""),a={},u=14;u--;)a[r[u]]=s[u]||"";return-1!=i&&-1!=o&&(a.source=n,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=function(e,t){var r=/\/{2,9}/g,n=t.replace(r,"/").split("/");"/"!=t.substr(0,1)&&0!==t.length||n.splice(0,1);"/"==t.substr(t.length-1,1)&&n.splice(n.length-1,1);return n}(0,a.path),a.queryKey=function(e,t){var r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,n){t&&(r[t]=n)})),r}(0,a.query),a}},65590:function(e){"use strict";var t,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),n={},i=0,o=0;function s(e){var t="";do{t=r[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function a(){var e=s(+new Date);return e!==t?(i=0,t=e):e+"."+s(i++)}for(;o<64;o++)n[r[o]]=o;a.encode=s,a.decode=function(e){var t=0;for(o=0;o<e.length;o++)t=64*t+n[e.charAt(o)];return t},e.exports=a},13623:function(e,t,r){"use strict";r.d(t,{io:function(){return ke}});var n={};r.r(n),r.d(n,{Decoder:function(){return le},Encoder:function(){return he},PacketType:function(){return ue},protocol:function(){return ce}});var i=r(1176);var o=r(15671),s=r(43144),a=r(97326),u=r(60136),c=r(27277),h=r(36421),l="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function f(e){var t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||h))return new XMLHttpRequest}catch(r){}if(!t)try{return new(l[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(r){}}function d(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce((function(t,r){return e.hasOwnProperty(r)&&(t[r]=e[r]),t}),{})}var p=setTimeout,v=clearTimeout;function y(e,t){t.useNativeTimers?(e.setTimeoutFn=p.bind(l),e.clearTimeoutFn=v.bind(l)):(e.setTimeoutFn=setTimeout.bind(l),e.clearTimeoutFn=clearTimeout.bind(l))}var m=r(23529),g=r(61120);function k(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,g.Z)(e)););return e}function b(){return b="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=k(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},b.apply(this,arguments)}var w=Object.create(null);w.open="0",w.close="1",w.ping="2",w.pong="3",w.message="4",w.upgrade="5",w.noop="6";var _=Object.create(null);Object.keys(w).forEach((function(e){_[w[e]]=e}));for(var x={type:"error",data:"parser error"},A="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),F="function"===typeof ArrayBuffer,E=function(e,t){var r=new FileReader;return r.onload=function(){var e=r.result.split(",")[1];t("b"+e)},r.readAsDataURL(e)},C=function(e,t,r){var n,i=e.type,o=e.data;return A&&o instanceof Blob?t?r(o):E(o,r):F&&(o instanceof ArrayBuffer||(n=o,"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer))?t?r(o):E(new Blob([o]),r):r(w[i]+(o||""))},S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O="undefined"===typeof Uint8Array?[]:new Uint8Array(256),R=0;R<S.length;R++)O[S.charCodeAt(R)]=R;var B="function"===typeof ArrayBuffer,T=function(e,t){if(B){var r=function(e){var t,r,n,i,o,s=.75*e.length,a=e.length,u=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var c=new ArrayBuffer(s),h=new Uint8Array(c);for(t=0;t<a;t+=4)r=O[e.charCodeAt(t)],n=O[e.charCodeAt(t+1)],i=O[e.charCodeAt(t+2)],o=O[e.charCodeAt(t+3)],h[u++]=r<<2|n>>4,h[u++]=(15&n)<<4|i>>2,h[u++]=(3&i)<<6|63&o;return c}(e);return N(r,t)}return{base64:!0,data:e}},N=function(e,t){return"blob"===t&&e instanceof ArrayBuffer?new Blob([e]):e},D=function(e,t){if("string"!==typeof e)return{type:"message",data:N(e,t)};var r=e.charAt(0);return"b"===r?{type:"message",data:T(e.substring(1),t)}:_[r]?e.length>1?{type:_[r],data:e.substring(1)}:{type:_[r]}:x},z=String.fromCharCode(30),L=function(e){(0,u.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this)).writable=!1,y((0,a.Z)(n),e),n.opts=e,n.query=e.query,n.readyState="",n.socket=e.socket,n}return(0,s.Z)(r,[{key:"onError",value:function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,b((0,g.Z)(r.prototype),"emit",this).call(this,"error",n),this}},{key:"open",value:function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}},{key:"close",value:function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}},{key:"send",value:function(e){"open"===this.readyState&&this.write(e)}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,b((0,g.Z)(r.prototype),"emit",this).call(this,"open")}},{key:"onData",value:function(e){var t=D(e,this.socket.binaryType);this.onPacket(t)}},{key:"onPacket",value:function(e){b((0,g.Z)(r.prototype),"emit",this).call(this,"packet",e)}},{key:"onClose",value:function(){this.readyState="closed",b((0,g.Z)(r.prototype),"emit",this).call(this,"close")}}]),r}(m.Q),I=r(65590),Z=r(55988),j=function(e){(0,u.Z)(r,e);var t=(0,c.Z)(r);function r(){var e;return(0,o.Z)(this,r),(e=t.apply(this,arguments)).polling=!1,e}return(0,s.Z)(r,[{key:"name",get:function(){return"polling"}},{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(e){var t=this;this.readyState="pausing";var r=function(){t.readyState="paused",e()};if(this.polling||!this.writable){var n=0;this.polling&&(n++,this.once("pollComplete",(function(){--n||r()}))),this.writable||(n++,this.once("drain",(function(){--n||r()})))}else r()}},{key:"poll",value:function(){this.polling=!0,this.doPoll(),this.emit("poll")}},{key:"onData",value:function(e){var t=this;(function(e,t){for(var r=e.split(z),n=[],i=0;i<r.length;i++){var o=D(r[i],t);if(n.push(o),"error"===o.type)break}return n})(e,this.socket.binaryType).forEach((function(e){if("opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState&&this.poll())}},{key:"doClose",value:function(){var e=this,t=function(){e.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}},{key:"write",value:function(e){var t=this;this.writable=!1,function(e,t){var r=e.length,n=new Array(r),i=0;e.forEach((function(e,o){C(e,!1,(function(e){n[o]=e,++i===r&&t(n.join(z))}))}))}(e,(function(e){t.doWrite(e,(function(){t.writable=!0,t.emit("drain")}))}))}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"https":"http",r="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=I()),this.supportsBinary||e.sid||(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(r=":"+this.opts.port);var n=Z.encode(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(n.length?"?"+n:"")}}]),r}(L);function M(){}var P=null!=new f({xdomain:!1}).responseType,q=function(e){(0,u.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;if((0,o.Z)(this,r),n=t.call(this,e),"undefined"!==typeof location){var i="https:"===location.protocol,s=location.port;s||(s=i?"443":"80"),n.xd="undefined"!==typeof location&&e.hostname!==location.hostname||s!==e.port,n.xs=e.secure!==i}var a=e&&e.forceBase64;return n.supportsBinary=P&&!a,n}return(0,s.Z)(r,[{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new V(this.uri(),e)}},{key:"doWrite",value:function(e,t){var r=this,n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(function(e){r.onError("xhr post error",e)}))}},{key:"doPoll",value:function(){var e=this,t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(function(t){e.onError("xhr poll error",t)})),this.pollXhr=t}}]),r}(j),V=function(e){(0,u.Z)(r,e);var t=(0,c.Z)(r);function r(e,n){var i;return(0,o.Z)(this,r),i=t.call(this),y((0,a.Z)(i),n),i.opts=n,i.method=n.method||"GET",i.uri=e,i.async=!1!==n.async,i.data=void 0!==n.data?n.data:null,i.create(),i}return(0,s.Z)(r,[{key:"create",value:function(){var e=this,t=d(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;var n=this.xhr=new f(t);try{n.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var i in n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.opts.extraHeaders[i])}catch(o){}if("POST"===this.method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(o){}try{n.setRequestHeader("Accept","*/*")}catch(o){}"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=function(){4===n.readyState&&(200===n.status||1223===n.status?e.onLoad():e.setTimeoutFn((function(){e.onError("number"===typeof n.status?n.status:0)}),0))},n.send(this.data)}catch(o){return void this.setTimeoutFn((function(){e.onError(o)}),0)}"undefined"!==typeof document&&(this.index=r.requestsCount++,r.requests[this.index]=this)}},{key:"onSuccess",value:function(){this.emit("success"),this.cleanup()}},{key:"onData",value:function(e){this.emit("data",e),this.onSuccess()}},{key:"onError",value:function(e){this.emit("error",e),this.cleanup(!0)}},{key:"cleanup",value:function(e){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=M,e)try{this.xhr.abort()}catch(t){}"undefined"!==typeof document&&delete r.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var e=this.xhr.responseText;null!==e&&this.onData(e)}},{key:"abort",value:function(){this.cleanup()}}]),r}(m.Q);if(V.requestsCount=0,V.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",H);else if("function"===typeof addEventListener){addEventListener("onpagehide"in l?"pagehide":"unload",H,!1)}function H(){for(var e in V.requests)V.requests.hasOwnProperty(e)&&V.requests[e].abort()}var U="function"===typeof Promise&&"function"===typeof Promise.resolve?function(e){return Promise.resolve().then(e)}:function(e,t){return t(e,0)},K=l.WebSocket||l.MozWebSocket,Y="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),W=function(e){(0,u.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).supportsBinary=!e.forceBase64,n}return(0,s.Z)(r,[{key:"name",get:function(){return"websocket"}},{key:"doOpen",value:function(){if(this.check()){var e=this.uri(),t=this.opts.protocols,r=Y?{}:d(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=Y?new K(e,t,r):t?new K(e,t):new K(e)}catch(n){return this.emit("error",n)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}}},{key:"addEventListeners",value:function(){var e=this;this.ws.onopen=function(){e.opts.autoUnref&&e.ws._socket.unref(),e.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=function(t){return e.onData(t.data)},this.ws.onerror=function(t){return e.onError("websocket error",t)}}},{key:"write",value:function(e){var t=this;this.writable=!1;for(var r=function(r){var n=e[r],i=r===e.length-1;C(n,t.supportsBinary,(function(e){try{t.ws.send(e)}catch(r){}i&&U((function(){t.writable=!0,t.emit("drain")}),t.setTimeoutFn)}))},n=0;n<e.length;n++)r(n)}},{key:"doClose",value:function(){"undefined"!==typeof this.ws&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"wss":"ws",r="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(r=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=I()),this.supportsBinary||(e.b64=1);var n=Z.encode(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(n.length?"?"+n:"")}},{key:"check",value:function(){return!!K&&!("__initialize"in K&&this.name===r.prototype.name)}}]),r}(L),J={websocket:W,polling:q},Q=function(e){(0,u.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.Z)(this,r),n=t.call(this),e&&"object"===typeof e&&(s=e,e=null),e?(e=i(e),s.hostname=e.host,s.secure="https"===e.protocol||"wss"===e.protocol,s.port=e.port,e.query&&(s.query=e.query)):s.host&&(s.hostname=i(s.host).host),y((0,a.Z)(n),s),n.secure=null!=s.secure?s.secure:"undefined"!==typeof location&&"https:"===location.protocol,s.hostname&&!s.port&&(s.port=n.secure?"443":"80"),n.hostname=s.hostname||("undefined"!==typeof location?location.hostname:"localhost"),n.port=s.port||("undefined"!==typeof location&&location.port?location.port:n.secure?"443":"80"),n.transports=s.transports||["polling","websocket"],n.readyState="",n.writeBuffer=[],n.prevBufferLen=0,n.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},s),n.opts.path=n.opts.path.replace(/\/$/,"")+"/","string"===typeof n.opts.query&&(n.opts.query=Z.decode(n.opts.query)),n.id=null,n.upgrades=null,n.pingInterval=null,n.pingTimeout=null,n.pingTimeoutTimer=null,"function"===typeof addEventListener&&(n.opts.closeOnBeforeunload&&addEventListener("beforeunload",(function(){n.transport&&(n.transport.removeAllListeners(),n.transport.close())}),!1),"localhost"!==n.hostname&&(n.offlineEventListener=function(){n.onClose("transport close")},addEventListener("offline",n.offlineEventListener,!1))),n.open(),n}return(0,s.Z)(r,[{key:"createTransport",value:function(e){var t=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}(this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);var r=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new J[e](r)}},{key:"open",value:function(){var e,t=this;if(this.opts.rememberUpgrade&&r.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((function(){t.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}},{key:"setTransport",value:function(e){var t=this;this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(function(){t.onClose("transport close")}))}},{key:"probe",value:function(e){var t=this,n=this.createTransport(e),i=!1;r.priorWebsocketSuccess=!1;var o=function(){i||(n.send([{type:"ping",data:"probe"}]),n.once("packet",(function(e){if(!i)if("pong"===e.type&&"probe"===e.data){if(t.upgrading=!0,t.emitReserved("upgrading",n),!n)return;r.priorWebsocketSuccess="websocket"===n.name,t.transport.pause((function(){i||"closed"!==t.readyState&&(l(),t.setTransport(n),n.send([{type:"upgrade"}]),t.emitReserved("upgrade",n),n=null,t.upgrading=!1,t.flush())}))}else{var o=new Error("probe error");o.transport=n.name,t.emitReserved("upgradeError",o)}})))};function s(){i||(i=!0,l(),n.close(),n=null)}var a=function(e){var r=new Error("probe error: "+e);r.transport=n.name,s(),t.emitReserved("upgradeError",r)};function u(){a("transport closed")}function c(){a("socket closed")}function h(e){n&&e.name!==n.name&&s()}var l=function(){n.removeListener("open",o),n.removeListener("error",a),n.removeListener("close",u),t.off("close",c),t.off("upgrading",h)};n.once("open",o),n.once("error",a),n.once("close",u),this.once("close",c),this.once("upgrading",h),n.open()}},{key:"onOpen",value:function(){if(this.readyState="open",r.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause)for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},{key:"onPacket",value:function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}},{key:"onHandshake",value:function(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var e=this;this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((function(){e.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}},{key:"flush",value:function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emitReserved("flush"))}},{key:"write",value:function(e,t,r){return this.sendPacket("message",e,t,r),this}},{key:"send",value:function(e,t,r){return this.sendPacket("message",e,t,r),this}},{key:"sendPacket",value:function(e,t,r,n){if("function"===typeof t&&(n=t,t=void 0),"function"===typeof r&&(n=r,r=null),"closing"!==this.readyState&&"closed"!==this.readyState){(r=r||{}).compress=!1!==r.compress;var i={type:e,data:t,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),n&&this.once("flush",n),this.flush()}}},{key:"close",value:function(){var e=this,t=function(){e.onClose("forced close"),e.transport.close()},r=function r(){e.off("upgrade",r),e.off("upgradeError",r),t()},n=function(){e.once("upgrade",r),e.once("upgradeError",r)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(function(){e.upgrading?n():t()})):this.upgrading?n():t()),this}},{key:"onError",value:function(e){r.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}},{key:"onClose",value:function(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"===typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}},{key:"filterUpgrades",value:function(e){for(var t=[],r=0,n=e.length;r<n;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}]),r}(m.Q);Q.protocol=4;Q.protocol;var $=r(37762),X="function"===typeof ArrayBuffer,G=Object.prototype.toString,ee="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===G.call(Blob),te="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===G.call(File);function re(e){return X&&(e instanceof ArrayBuffer||function(e){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(e))||ee&&e instanceof Blob||te&&e instanceof File}function ne(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(var r=0,n=e.length;r<n;r++)if(ne(e[r]))return!0;return!1}if(re(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return ne(e.toJSON(),!0);for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&ne(e[i]))return!0;return!1}function ie(e){var t=[],r=e.data,n=e;return n.data=oe(r,t),n.attachments=t.length,{packet:n,buffers:t}}function oe(e,t){if(!e)return e;if(re(e)){var r={_placeholder:!0,num:t.length};return t.push(e),r}if(Array.isArray(e)){for(var n=new Array(e.length),i=0;i<e.length;i++)n[i]=oe(e[i],t);return n}if("object"===typeof e&&!(e instanceof Date)){var o={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(o[s]=oe(e[s],t));return o}return e}function se(e,t){return e.data=ae(e.data,t),e.attachments=void 0,e}function ae(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]=ae(e[r],t);else if("object"===typeof e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=ae(e[n],t));return e}var ue,ce=5;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(ue||(ue={}));var he=function(){function e(){(0,o.Z)(this,e)}return(0,s.Z)(e,[{key:"encode",value:function(e){return e.type!==ue.EVENT&&e.type!==ue.ACK||!ne(e)?[this.encodeAsString(e)]:(e.type=e.type===ue.EVENT?ue.BINARY_EVENT:ue.BINARY_ACK,this.encodeAsBinary(e))}},{key:"encodeAsString",value:function(e){var t=""+e.type;return e.type!==ue.BINARY_EVENT&&e.type!==ue.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data)),t}},{key:"encodeAsBinary",value:function(e){var t=ie(e),r=this.encodeAsString(t.packet),n=t.buffers;return n.unshift(r),n}}]),e}(),le=function(e){(0,u.Z)(r,e);var t=(0,c.Z)(r);function r(){return(0,o.Z)(this,r),t.call(this)}return(0,s.Z)(r,[{key:"add",value:function(e){var t;if("string"===typeof e)(t=this.decodeString(e)).type===ue.BINARY_EVENT||t.type===ue.BINARY_ACK?(this.reconstructor=new fe(t),0===t.attachments&&b((0,g.Z)(r.prototype),"emitReserved",this).call(this,"decoded",t)):b((0,g.Z)(r.prototype),"emitReserved",this).call(this,"decoded",t);else{if(!re(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,b((0,g.Z)(r.prototype),"emitReserved",this).call(this,"decoded",t))}}},{key:"decodeString",value:function(e){var t=0,n={type:Number(e.charAt(0))};if(void 0===ue[n.type])throw new Error("unknown packet type "+n.type);if(n.type===ue.BINARY_EVENT||n.type===ue.BINARY_ACK){for(var i=t+1;"-"!==e.charAt(++t)&&t!=e.length;);var o=e.substring(i,t);if(o!=Number(o)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(o)}if("/"===e.charAt(t+1)){for(var s=t+1;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(s,t)}else n.nsp="/";var a=e.charAt(t+1);if(""!==a&&Number(a)==a){for(var u=t+1;++t;){var c=e.charAt(t);if(null==c||Number(c)!=c){--t;break}if(t===e.length)break}n.id=Number(e.substring(u,t+1))}if(e.charAt(++t)){var h=function(e){try{return JSON.parse(e)}catch(t){return!1}}(e.substr(t));if(!r.isPayloadValid(n.type,h))throw new Error("invalid payload");n.data=h}return n}},{key:"destroy",value:function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}],[{key:"isPayloadValid",value:function(e,t){switch(e){case ue.CONNECT:return"object"===typeof t;case ue.DISCONNECT:return void 0===t;case ue.CONNECT_ERROR:return"string"===typeof t||"object"===typeof t;case ue.EVENT:case ue.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case ue.ACK:case ue.BINARY_ACK:return Array.isArray(t)}}}]),r}(m.Q);var fe=function(){function e(t){(0,o.Z)(this,e),this.packet=t,this.buffers=[],this.reconPack=t}return(0,s.Z)(e,[{key:"takeBinaryData",value:function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=se(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),e}();function de(e,t,r){return e.on(t,r),function(){e.off(t,r)}}var pe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),ve=function(e){(0,u.Z)(r,e);var t=(0,c.Z)(r);function r(e,n,i){var s;return(0,o.Z)(this,r),(s=t.call(this)).connected=!1,s.disconnected=!0,s.receiveBuffer=[],s.sendBuffer=[],s.ids=0,s.acks={},s.flags={},s.io=e,s.nsp=n,i&&i.auth&&(s.auth=i.auth),s.io._autoConnect&&s.open(),s}return(0,s.Z)(r,[{key:"subEvents",value:function(){if(!this.subs){var e=this.io;this.subs=[de(e,"open",this.onopen.bind(this)),de(e,"packet",this.onpacket.bind(this)),de(e,"error",this.onerror.bind(this)),de(e,"close",this.onclose.bind(this))]}}},{key:"active",get:function(){return!!this.subs}},{key:"connect",value:function(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.unshift("message"),this.emit.apply(this,t),this}},{key:"emit",value:function(e){if(pe.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];r.unshift(e);var i={type:ue.EVENT,data:r,options:{}};if(i.options.compress=!1!==this.flags.compress,"function"===typeof r[r.length-1]){var o=this.ids++,s=r.pop();this._registerAckCallback(o,s),i.id=o}var a=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,u=this.flags.volatile&&(!a||!this.connected);return u||(this.connected?this.packet(i):this.sendBuffer.push(i)),this.flags={},this}},{key:"_registerAckCallback",value:function(e,t){var r=this,n=this.flags.timeout;if(void 0!==n){var i=this.io.setTimeoutFn((function(){delete r.acks[e];for(var n=0;n<r.sendBuffer.length;n++)r.sendBuffer[n].id===e&&r.sendBuffer.splice(n,1);t.call(r,new Error("operation has timed out"))}),n);this.acks[e]=function(){r.io.clearTimeoutFn(i);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];t.apply(r,[null].concat(n))}}else this.acks[e]=t}},{key:"packet",value:function(e){e.nsp=this.nsp,this.io._packet(e)}},{key:"onopen",value:function(){var e=this;"function"==typeof this.auth?this.auth((function(t){e.packet({type:ue.CONNECT,data:t})})):this.packet({type:ue.CONNECT,data:this.auth})}},{key:"onerror",value:function(e){this.connected||this.emitReserved("connect_error",e)}},{key:"onclose",value:function(e){this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",e)}},{key:"onpacket",value:function(e){if(e.nsp===this.nsp)switch(e.type){case ue.CONNECT:if(e.data&&e.data.sid){var t=e.data.sid;this.onconnect(t)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ue.EVENT:case ue.BINARY_EVENT:this.onevent(e);break;case ue.ACK:case ue.BINARY_ACK:this.onack(e);break;case ue.DISCONNECT:this.ondisconnect();break;case ue.CONNECT_ERROR:this.destroy();var r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r)}}},{key:"onevent",value:function(e){var t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}},{key:"emitEvent",value:function(e){if(this._anyListeners&&this._anyListeners.length){var t,n=this._anyListeners.slice(),i=(0,$.Z)(n);try{for(i.s();!(t=i.n()).done;){t.value.apply(this,e)}}catch(o){i.e(o)}finally{i.f()}}b((0,g.Z)(r.prototype),"emit",this).apply(this,e)}},{key:"ack",value:function(e){var t=this,r=!1;return function(){if(!r){r=!0;for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];t.packet({type:ue.ACK,id:e,data:i})}}}},{key:"onack",value:function(e){var t=this.acks[e.id];"function"===typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}},{key:"onconnect",value:function(e){this.id=e,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}},{key:"emitBuffered",value:function(){var e=this;this.receiveBuffer.forEach((function(t){return e.emitEvent(t)})),this.receiveBuffer=[],this.sendBuffer.forEach((function(t){return e.packet(t)})),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach((function(e){return e()})),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&this.packet({type:ue.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(e){return this.flags.compress=e,this}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}},{key:"timeout",value:function(e){return this.flags.timeout=e,this}},{key:"onAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}},{key:"prependAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}},{key:"offAny",value:function(e){if(!this._anyListeners)return this;if(e){for(var t=this._anyListeners,r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}}]),r}(m.Q),ye=r(68077),me=function(e){(0,u.Z)(r,e);var t=(0,c.Z)(r);function r(e,i){var s,u;(0,o.Z)(this,r),(s=t.call(this)).nsps={},s.subs=[],e&&"object"===typeof e&&(i=e,e=void 0),(i=i||{}).path=i.path||"/socket.io",s.opts=i,y((0,a.Z)(s),i),s.reconnection(!1!==i.reconnection),s.reconnectionAttempts(i.reconnectionAttempts||1/0),s.reconnectionDelay(i.reconnectionDelay||1e3),s.reconnectionDelayMax(i.reconnectionDelayMax||5e3),s.randomizationFactor(null!==(u=i.randomizationFactor)&&void 0!==u?u:.5),s.backoff=new ye({min:s.reconnectionDelay(),max:s.reconnectionDelayMax(),jitter:s.randomizationFactor()}),s.timeout(null==i.timeout?2e4:i.timeout),s._readyState="closed",s.uri=e;var c=i.parser||n;return s.encoder=new c.Encoder,s.decoder=new c.Decoder,s._autoConnect=!1!==i.autoConnect,s._autoConnect&&s.open(),s}return(0,s.Z)(r,[{key:"reconnection",value:function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}},{key:"reconnectionAttempts",value:function(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}},{key:"reconnectionDelay",value:function(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}},{key:"randomizationFactor",value:function(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}},{key:"reconnectionDelayMax",value:function(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}},{key:"timeout",value:function(e){return arguments.length?(this._timeout=e,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:"open",value:function(e){var t=this;if(~this._readyState.indexOf("open"))return this;this.engine=new Q(this.uri,this.opts);var r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;var i=de(r,"open",(function(){n.onopen(),e&&e()})),o=de(r,"error",(function(r){n.cleanup(),n._readyState="closed",t.emitReserved("error",r),e?e(r):n.maybeReconnectOnOpen()}));if(!1!==this._timeout){var s=this._timeout;0===s&&i();var a=this.setTimeoutFn((function(){i(),r.close(),r.emit("error",new Error("timeout"))}),s);this.opts.autoUnref&&a.unref(),this.subs.push((function(){clearTimeout(a)}))}return this.subs.push(i),this.subs.push(o),this}},{key:"connect",value:function(e){return this.open(e)}},{key:"onopen",value:function(){this.cleanup(),this._readyState="open",this.emitReserved("open");var e=this.engine;this.subs.push(de(e,"ping",this.onping.bind(this)),de(e,"data",this.ondata.bind(this)),de(e,"error",this.onerror.bind(this)),de(e,"close",this.onclose.bind(this)),de(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(e){this.decoder.add(e)}},{key:"ondecoded",value:function(e){this.emitReserved("packet",e)}},{key:"onerror",value:function(e){this.emitReserved("error",e)}},{key:"socket",value:function(e,t){var r=this.nsps[e];return r||(r=new ve(this,e,t),this.nsps[e]=r),r}},{key:"_destroy",value:function(e){for(var t=0,r=Object.keys(this.nsps);t<r.length;t++){var n=r[t];if(this.nsps[n].active)return}this._close()}},{key:"_packet",value:function(e){for(var t=this.encoder.encode(e),r=0;r<t.length;r++)this.engine.write(t[r],e.options)}},{key:"cleanup",value:function(){this.subs.forEach((function(e){return e()})),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var e=this;if(this._reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var r=this.backoff.duration();this._reconnecting=!0;var n=this.setTimeoutFn((function(){t.skipReconnect||(e.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((function(r){r?(t._reconnecting=!1,t.reconnect(),e.emitReserved("reconnect_error",r)):t.onreconnect()})))}),r);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}}},{key:"onreconnect",value:function(){var e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}]),r}(m.Q),ge={};function ke(e,t){"object"===typeof e&&(t=e,e=void 0);var r,n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n=e;r=r||"undefined"!==typeof location&&location,null==e&&(e=r.protocol+"//"+r.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?r.protocol+e:r.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof r?r.protocol+"//"+e:"https://"+e),n=i(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var o=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port+t,n.href=n.protocol+"://"+o+(r&&r.port===n.port?"":":"+n.port),n}(e,(t=t||{}).path||"/socket.io"),o=n.source,s=n.id,a=n.path,u=ge[s]&&a in ge[s].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||u?r=new me(o,t):(ge[s]||(ge[s]=new me(o,t)),r=ge[s]),n.query&&!t.query&&(t.query=n.queryKey),r.socket(n.path,t)}Object.assign(ke,{Manager:me,Socket:ve,io:ke,connect:ke})}}]);
//# sourceMappingURL=9071.57274441.chunk.js.map